import{bg as k,l as v,bC as q,o as g,q as x,m as e,i as s,e as o,w,f as z,x as r,be as T,dl as h,I as A,D as K}from"./index.f356dcab.js";/* empty css              */import{C as W}from"./index.60bd41b9.js";import{_ as B,F as M}from"./Form.6e04adbe.js";import"./index.659db672.js";import"./isPlainObject.4b2dde9d.js";function U(){return k({url:"/config/getWxMpConfig",method:"get"})}function Z(m){return k({url:"/config/updateWxMpConfig",method:"post",data:m})}const $=o("span",{class:"card-title"},"\u57FA\u7840\u914D\u7F6E",-1),D=o("span",{class:"card-title"},[r(" \u670D\u52A1\u5668\u914D\u7F6E "),o("span",{class:"mt-4 text-xs text-muted"},[r(" ( \u8BF7\u4E0E "),o("a",{href:"https://mp.weixin.qq.com/",target:"_blank"},[o("span",{class:"text-success"},"\u516C\u4F17\u53F7\u5E73\u53F0-\u670D\u52A1\u5668\u914D\u7F6E")]),r(" \u4FDD\u6301\u4E00\u81F4) ")])],-1),N={class:"flex"},S=r("\u91CD\u7F6E"),V=o("div",{class:"mt-4 text-xs"},"Token\u5FC5\u987B\u4E3A\u82F1\u6587\u6216\u6570\u5B57\uFF0C\u957F\u5EA6\u4E3A3-32\u5B57\u7B26\u3002",-1),P={class:"flex"},L=r("\u91CD\u7F6E"),j=o("div",{class:"mt-4 text-xs"},"\u6D88\u606F\u52A0\u5BC6\u5BC6\u94A5\u753143\u4F4D\u5B57\u7B26\u7EC4\u6210\uFF0C\u5B57\u7B26\u8303\u56F4\u4E3AA-Z,a-z,0-9",-1),E=r(" \u4FDD \u5B58 "),X={__name:"offiaccount",setup(m){const a=v({}),b={appId:[{required:!0,message:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7appId!"}],secret:[{required:!0,message:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7Secret!"}],token:[{required:!0,message:"\u8BF7\u8F93\u5165Token(\u4EE4\u724C)!"},{pattern:/^[A-Za-z0-9]{3,32}$/,message:"Token\u4EE4\u724C\u957F\u5EA6\u4E3A3-32\u5B57\u7B26!",trigger:"blur"}],aesKey:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D88\u606F\u4F53\u52A0\u89E3\u5BC6\u5BC6\u94A5!"},{pattern:/^[A-Za-z0-9]{43}$/,message:"\u5B57\u7B26\u8303\u56F4\u4E3AA-Z,a-z,0-9,\u4E14\u957F\u5EA6\u4E3A43\u4F4D!",trigger:"blur"}]};let u=v(!1);function _(){U().then(({data:n}=response)=>{a.value=n})}const C=n=>{u.value=!0,Z(a.value).then(t=>{T.success("\u4FDD\u5B58\u6210\u529F!"),u.value=!1,_()}).catch(t=>{u.value=!1})},y=n=>{u.value=!1};function f(n){n=="token"?a.value.token=h(32):a.value.aesKey=h(43)}return _(),(n,t)=>{const i=A,p=B,d=W,c=K,I=M,F=q("hasPermi");return g(),x(I,{model:a.value,rules:b,name:"basic",labelCol:{xs:3,sm:5},"wrapper-col":{xs:14,sm:10},autocomplete:"off",onFinish:C,onFinishFailed:y},{default:e(()=>[s(d,{class:"card",size:"small"},{title:e(()=>[$]),default:e(()=>[s(p,{label:"\u516C\u4F17\u53F7appId",name:"appId"},{default:e(()=>[s(i,{value:a.value.appId,"onUpdate:value":t[0]||(t[0]=l=>a.value.appId=l),placeholder:"\u8BF7\u8F93\u5165\u516C\u4F17\u53F7appId"},null,8,["value"])]),_:1}),s(p,{label:"\u516C\u4F17\u53F7secret",name:"secret"},{default:e(()=>[s(i,{value:a.value.secret,"onUpdate:value":t[1]||(t[1]=l=>a.value.secret=l),placeholder:"\u8BF7\u8F93\u5165aAppSecret"},null,8,["value"])]),_:1})]),_:1}),s(d,{class:"card",size:"small"},{title:e(()=>[D]),default:e(()=>[s(p,{label:"Token(\u4EE4\u724C)",name:"token"},{extra:e(()=>[V]),default:e(()=>[o("div",N,[s(i,{value:a.value.token,"onUpdate:value":t[2]||(t[2]=l=>a.value.token=l),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u63A8\u9001Token(\u4EE4\u724C)"},null,8,["value"]),s(c,{class:"ml-8",type:"primary",onClick:t[3]||(t[3]=l=>f("token"))},{default:e(()=>[S]),_:1})])]),_:1}),s(p,{label:"\u6D88\u606F\u52A0\u89E3\u5BC6\u5BC6\u94A5",name:"aesKey"},{extra:e(()=>[j]),default:e(()=>[o("div",P,[s(i,{value:a.value.aesKey,"onUpdate:value":t[4]||(t[4]=l=>a.value.aesKey=l),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u4F53\u52A0\u89E3\u5BC6\u5BC6\u94A5"},null,8,["value"]),s(c,{class:"ml-8",type:"primary",onClick:t[5]||(t[5]=l=>f("key"))},{default:e(()=>[L]),_:1})])]),_:1})]),_:1}),s(d,{class:"card-btn",size:"small"},{default:e(()=>[w((g(),x(c,{type:"primary",loading:z(u),"html-type":"submit"},{default:e(()=>[E]),_:1},8,["loading"])),[[F,["config:wxmp:updateConfig"]]])]),_:1})]),_:1},8,["model"])}}};export{X as default};
