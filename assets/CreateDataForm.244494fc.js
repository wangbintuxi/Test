import{l as A,r as z,k as E,o as j,q as G,m as o,i as t,f as a,e as y,x as h,dg as H,dh as J,be as C,di as K,I as M,bf as O,E as P,D as Q,d7 as W,b3 as X}from"./index.f356dcab.js";/* empty css              */import{_ as Y}from"./index.cd6ea1b3.js";import{_ as Z}from"./index.64d5474e.js";import{_ as ee,F as le}from"./Form.6e04adbe.js";import"./isPlainObject.4b2dde9d.js";const ae=["value"],te={class:"bottom-control"},se=h("\u53D6\u6D88"),oe=h("\u4FDD\u5B58"),ce={__name:"CreateDataForm",props:{dictType:{type:String,required:!0},sys_normal_disable:{type:Array,required:!0}},emits:["ok"],setup(_,{expose:k,emit:f}){const T=_,w=A(),{proxy:F}=X(),V=z({formTitle:"",submitLoading:!1,form:{dictId:null,dictType:null,dictLabel:null,dictValue:null,dictSort:0,cssClass:"",status:"0",remark:null},formType:1,open:!1,rules:{dictLabel:[{required:!0,message:"\u5B57\u5178\u6807\u7B7E\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictValue:[{required:!0,message:"\u6570\u636E\u952E\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictSort:[{required:!0,message:"\u663E\u793A\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{formTitle:p,submitLoading:i,form:e,formType:c,open:r,rules:x}=E(V),v=()=>{m(),r.value=!1},m=()=>{c.value=1,e.value={dictId:null,dictType:null,dictLabel:null,dictValue:null,cssClass:"",status:"0",remark:null},F.resetForm("formRef")},L=n=>{e.value.cssClass=n.target.value},U=n=>{m(),c.value=1,r.value=!0,e.value.dictType=T.dictType,p.value="\u6DFB\u52A0\u5B57\u5178\u6570\u636E"},q=n=>{m(),c.value=2;const l=n.dictCode;H(l).then(d=>{e.value=d.data,r.value=!0,p.value="\u4FEE\u6539\u5B57\u5178\u6570\u636E"})},S=n=>{i.value=!0,e.value.dictCode!==void 0&&e.value.dictCode!==null?J(e.value).then(l=>{C.success("\u4FEE\u6539\u6210\u529F",3),r.value=!1,f("ok")}).finally(()=>{i.value=!1}):K(e.value).then(l=>{C.success("\u65B0\u589E\u6210\u529F",3),r.value=!1,f("ok")}).finally(()=>{i.value=!1})},I=n=>{console.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25",n)};return k({handleAdd:U,handleUpdate:q}),(n,l)=>{const d=M,u=ee,b=O,R=Z,D=Y,B=P,g=Q,N=le,$=W;return j(),G($,{width:600,title:a(p),"label-col":4,"wrapper-col":14,visible:a(r),onClose:v},{default:o(()=>[t(N,{"label-col":{span:5},"wrapper-col":{span:18},ref_key:"formRef",ref:w,model:a(e),rules:a(x),onFinish:S,onFinishFailed:I},{default:o(()=>[t(u,{label:"\u5B57\u5178\u7C7B\u578B",name:"dictType"},{default:o(()=>[t(d,{disabled:"",value:a(e).dictType,"onUpdate:value":l[0]||(l[0]=s=>a(e).dictType=s),placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u7C7B\u578B"},null,8,["value"])]),_:1}),t(u,{label:"\u6570\u636E\u6807\u7B7E",name:"dictLabel"},{default:o(()=>[t(d,{value:a(e).dictLabel,"onUpdate:value":l[1]||(l[1]=s=>a(e).dictLabel=s),placeholder:"\u8BF7\u8F93\u5165\u6570\u636E\u6807\u7B7E"},null,8,["value"])]),_:1}),t(u,{label:"\u6570\u636E\u952E\u503C",name:"dictValue"},{default:o(()=>[t(d,{value:a(e).dictValue,"onUpdate:value":l[2]||(l[2]=s=>a(e).dictValue=s),placeholder:"\u8BF7\u8F93\u5165\u6570\u636E\u952E\u503C"},null,8,["value"])]),_:1}),t(u,{label:"\u5B57\u5178\u989C\u8272",name:"cssClass"},{default:o(()=>[t(b,null,{default:o(()=>[t(d,{style:{width:"100%"},value:a(e).cssClass,"onUpdate:value":l[3]||(l[3]=s=>a(e).cssClass=s),placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u503C\u989C\u8272"},null,8,["value"]),y("input",{type:"color",value:a(e).cssClass,onInput:l[4]||(l[4]=s=>L(s))},null,40,ae)]),_:1})]),_:1}),t(u,{label:"\u663E\u793A\u6392\u5E8F",name:"dictSort"},{default:o(()=>[t(R,{style:{width:"100%"},value:a(e).dictSort,"onUpdate:value":l[5]||(l[5]=s=>a(e).dictSort=s),placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u6392\u5E8F"},null,8,["value"])]),_:1}),t(u,{label:"\u72B6\u6001",name:"status"},{default:o(()=>[t(D,{value:a(e).status,"onUpdate:value":l[6]||(l[6]=s=>a(e).status=s),options:_.sys_normal_disable},null,8,["value","options"])]),_:1}),t(u,{label:"\u5907\u6CE8",name:"remark"},{default:o(()=>[t(B,{value:a(e).remark,"onUpdate:value":l[7]||(l[7]=s=>a(e).remark=s),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",autoSize:{minRows:4,maxRows:8},"allow-clear":""},null,8,["value"])]),_:1}),y("div",te,[t(b,null,{default:o(()=>[t(g,{type:"dashed",danger:"",onClick:v},{default:o(()=>[se]),_:1}),t(g,{type:"primary",loading:a(i),"html-type":"submitForm"},{default:o(()=>[oe]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])}}};export{ce as default};
