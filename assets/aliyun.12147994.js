import{bg as v,l as p,bC as C,o as _,q as f,m as e,i as a,w,f as k,e as l,x as F,be as B,I as N,D as O}from"./index.b2a8007e.js";/* empty css              */import{C as S}from"./index.97ae9f09.js";import{_ as q,F as z}from"./Form.974d28bd.js";import"./index.0d46dd88.js";import"./isPlainObject.87445d09.js";function I(){return v({url:"/config/getOssConfig",method:"get"})}function P(c){return v({url:"/config/updateOssConfig",method:"post",data:c})}const U=l("span",{class:"card-title"},"\u963F\u91CC\u4E91OSS\u914D\u7F6E",-1),A=l("span",{class:"pl-10 text-xs text-warning"},[l("a",{href:"https://www.aliyun.com/product/oss?userCode=dligum2z",target:"_blank"}," \u767B\u5F55\u963F\u91CC\u4E91\u7F51\u5740(\u5730\u5740\uFF1Ahttps://www.aliyun.com/product/oss?userCode=dligum2z) ")],-1),D=l("div",{class:"mt-4 text-xs"},"\u963F\u91CC\u4E91API\u79D8\u94A5(\u767B\u5F55\u963F\u91CC\u4E91\u7F51\u5740\u83B7\u53D6)",-1),V=l("div",{class:"mt-4 text-xs"},"\u963F\u91CC\u4E91SecretKey(\u767B\u5F55\u963F\u91CC\u4E91\u7F51\u5740\u83B7\u53D6)",-1),L=l("div",{class:"mt-4 text-xs"},"Bucket\u540D\u79F0(\u767B\u5F55\u963F\u91CC\u4E91\u7F51\u5740\u83B7\u53D6)",-1),T=l("div",{class:"mt-4 text-xs"},"\u5730\u57DF\u8282\u70B9(\u767B\u5F55\u963F\u91CC\u4E91\u7F51\u5740\u83B7\u53D6)",-1),j=F(" \u4FDD \u5B58 "),R={__name:"aliyun",setup(c){const t=p({}),g={accessKey:[{required:!0,message:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91\u8BBF\u95EE\u5BC6\u94A5!"}],secretKey:[{required:!0,message:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91SecretKey!"}],bucketName:[{required:!0,message:"\u8F93\u5165Bucket\u540D\u79F0!"}],endpoint:[{required:!0,message:"\u8BF7\u8F93\u5165\u5730\u57DF\u8282\u70B9!"}]};let n=p(!1);function d(){I().then(({data:r}=response)=>{t.value=r})}const x=r=>{n.value=!0,P(t.value).then(s=>{B.success("\u4FDD\u5B58\u6210\u529F!"),n.value=!1,d()}).catch(s=>{n.value=!1})},h=r=>{n.value=!1};return d(),(r,s)=>{const u=N,i=q,m=S,y=O,b=z,K=C("hasPermi");return _(),f(b,{model:t.value,rules:g,name:"basic",labelCol:{xs:3,sm:5},"wrapper-col":{xs:14,sm:10},autocomplete:"off",onFinish:x,onFinishFailed:h},{default:e(()=>[a(m,{class:"card",size:"small"},{title:e(()=>[U,A]),default:e(()=>[a(i,{label:"AccessKey",name:"accessKey"},{extra:e(()=>[D]),default:e(()=>[a(u,{value:t.value.accessKey,"onUpdate:value":s[0]||(s[0]=o=>t.value.accessKey=o),placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91\u8BBF\u95EE\u5BC6\u94A5"},null,8,["value"])]),_:1}),a(i,{label:"SecretKey",name:"secretKey"},{extra:e(()=>[V]),default:e(()=>[a(u,{value:t.value.secretKey,"onUpdate:value":s[1]||(s[1]=o=>t.value.secretKey=o),placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91SecretKey"},null,8,["value"])]),_:1}),a(i,{label:"\u7A7A\u95F4\u540D\u79F0",name:"bucketName"},{extra:e(()=>[L]),default:e(()=>[a(u,{value:t.value.bucketName,"onUpdate:value":s[2]||(s[2]=o=>t.value.bucketName=o),placeholder:"\u8BF7\u8F93\u5165Bucket\u540D\u79F0"},null,8,["value"])]),_:1}),a(i,{label:"\u5730\u57DF\u8282\u70B9",name:"endpoint"},{extra:e(()=>[T]),default:e(()=>[a(u,{value:t.value.endpoint,"onUpdate:value":s[3]||(s[3]=o=>t.value.endpoint=o),placeholder:"\u8BF7\u8F93\u5165\u5730\u57DF\u8282\u70B9"},null,8,["value"])]),_:1})]),_:1}),a(m,{class:"card-btn",size:"small"},{default:e(()=>[w((_(),f(y,{type:"primary",loading:k(n),"html-type":"submit"},{default:e(()=>[j]),_:1},8,["loading"])),[[K,["config:alioss:updateConfig"]]])]),_:1})]),_:1},8,["model"])}}};export{R as default};
