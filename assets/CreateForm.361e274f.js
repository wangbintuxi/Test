import{l as $,r as A,k as L,o as z,q as D,m as o,i as n,f as a,e as E,x as y,be as g,I as S,E as j,D as G,bf as H,d7 as J,b3 as K}from"./index.eed59c8a.js";/* empty css              */import{_ as M}from"./index.dc2e029d.js";import{g as O,u as P,a as Q}from"./type.424eae55.js";import{_ as W,F as X}from"./Form.ebe4e7a6.js";import"./isPlainObject.e1353217.js";const Y={class:"bottom-control"},Z=y("\u53D6\u6D88"),ee=y("\u4FDD\u5B58"),re={__name:"CreateForm",props:{sys_normal_disable:{type:Array,required:!0}},emits:["ok"],setup(b,{expose:h,emit:_}){const T=$(),{proxy:k}=K(),F=A({formTitle:"",submitLoading:!1,form:{dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},formType:1,open:!1,rules:{dictName:[{required:!0,message:"\u5B57\u5178\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],dictType:[{required:!0,message:"\u5B57\u5178\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{formTitle:m,submitLoading:d,form:e,formType:p,open:r,rules:I}=L(F),f=()=>{c(),r.value=!1},c=()=>{p.value=1,e.value={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},k.resetForm("formRef")},N=s=>{c(),p.value=1,r.value=!0,m.value="\u6DFB\u52A0\u5B57\u5178\u7C7B\u578B"},w=(s,t)=>{c(),p.value=2;const i=s?s.dictId:t.value;O(i).then(u=>{e.value=u.data,r.value=!0,m.value="\u4FEE\u6539\u5B57\u5178\u7C7B\u578B"})},x=s=>{d.value=!0,e.value.dictId!==void 0&&e.value.dictId!==null?P(e.value).then(t=>{g.success("\u4FEE\u6539\u6210\u529F",3),r.value=!1,_("ok")}).finally(()=>{d.value=!1}):Q(e.value).then(t=>{g.success("\u65B0\u589E\u6210\u529F",3),r.value=!1,_("ok")}).finally(()=>{d.value=!1})},R=s=>{console.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25",s)};return h({handleAdd:N,handleUpdate:w}),(s,t)=>{const i=S,u=W,q=M,C=j,v=G,U=H,B=X,V=J;return z(),D(V,{width:600,title:a(m),"label-col":4,"wrapper-col":14,visible:a(r),onClose:f},{default:o(()=>[n(B,{"label-col":{span:5},"wrapper-col":{span:18},ref_key:"formRef",ref:T,model:a(e),rules:a(I),onFinish:x,onFinishFailed:R},{default:o(()=>[n(u,{label:"\u5B57\u5178\u540D\u79F0",name:"dictName"},{default:o(()=>[n(i,{value:a(e).dictName,"onUpdate:value":t[0]||(t[0]=l=>a(e).dictName=l),placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u540D\u79F0"},null,8,["value"])]),_:1}),n(u,{label:"\u5B57\u5178\u7C7B\u578B",name:"dictType"},{default:o(()=>[n(i,{value:a(e).dictType,"onUpdate:value":t[1]||(t[1]=l=>a(e).dictType=l),placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u7C7B\u578B"},null,8,["value"])]),_:1}),n(u,{label:"\u5B57\u5178\u72B6\u6001",name:"status"},{default:o(()=>[n(q,{value:a(e).status,"onUpdate:value":t[2]||(t[2]=l=>a(e).status=l),options:b.sys_normal_disable},null,8,["value","options"])]),_:1}),n(u,{label:"\u5907\u6CE8",name:"remark"},{default:o(()=>[n(C,{value:a(e).remark,"onUpdate:value":t[3]||(t[3]=l=>a(e).remark=l),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",autoSize:{minRows:4,maxRows:8},"allow-clear":""},null,8,["value"])]),_:1}),E("div",Y,[n(U,null,{default:o(()=>[n(v,{type:"dashed",danger:"",onClick:f},{default:o(()=>[Z]),_:1}),n(v,{type:"primary",loading:a(d),"html-type":"submitForm"},{default:o(()=>[ee]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])}}};export{re as default};
