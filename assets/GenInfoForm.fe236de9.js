import{l as h,az as J,b2 as D,o as u,q as p,m as e,i as t,s as T,c as v,w as K,v as X,F as b,bD as y,x as o,t as N,e as w,bH as Y,bI as Z,bu as ee,I as te,D as le,cL as ne,c5 as ae,c6 as oe,b3 as ue}from"./index.b2a8007e.js";/* empty css              */import{R as se,_ as ie}from"./index.1a7277f2.js";import{_ as de}from"./index.f937b318.js";import{l as me}from"./menu.fd51b367.js";import{_ as re,F as fe}from"./Form.974d28bd.js";import{_ as _e,a as ce}from"./index.0d46dd88.js";import{_ as pe}from"./Group.2e989739.js";import"./isPlainObject.87445d09.js";const ve=o("\u751F\u6210\u6A21\u677F"),be=o("\u5355\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09"),ge=o("\u6811\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09"),ye=o("\u4E3B\u5B50\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09"),Ne=o(" \u751F\u6210\u5305\u8DEF\u5F84 "),Ce=o(" \u751F\u6210\u6A21\u5757\u540D "),he=o(" \u751F\u6210\u4E1A\u52A1\u540D "),Fe=o(" \u751F\u6210\u529F\u80FD\u540D "),ke=o(" \u4E0A\u7EA7\u83DC\u5355 "),Te=o(" \u751F\u6210\u4EE3\u7801\u65B9\u5F0F "),we=o("zip\u538B\u7F29\u5305"),Ue=o("\u81EA\u5B9A\u4E49\u8DEF\u5F84"),Ie=o(" \u81EA\u5B9A\u4E49\u8DEF\u5F84 "),Qe=o(" \u6700\u8FD1\u8DEF\u5F84\u5FEB\u901F\u9009\u62E9 "),xe=w("a",{href:"javascript:;"},"\u6062\u590D\u9ED8\u8BA4\u7684\u751F\u6210\u57FA\u7840\u8DEF\u5F84",-1),qe=w("h4",{class:"form-header"},"\u5176\u4ED6\u4FE1\u606F",-1),De=o(" \u6811\u7F16\u7801\u5B57\u6BB5 "),Me=o(" \u6811\u7236\u7F16\u7801\u5B57\u6BB5 "),Pe=o(" \u6811\u540D\u79F0\u5B57\u6BB5 "),Se=w("h4",{class:"form-header"},"\u5173\u8054\u4FE1\u606F",-1),Be=o(" \u5173\u8054\u5B50\u8868\u7684\u8868\u540D "),Oe=o(" \u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D "),Ee={__name:"GenInfoForm",props:{info:{type:Object,default:null},tables:{type:Array,default:null}},setup(n,{expose:M}){const c=n,U=h(null),I=h([]),F=h([]),{proxy:P}=ue(),S=h({tplCategory:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6210\u6A21\u677F",trigger:"blur"}],packageName:[{required:!0,message:"\u8BF7\u8F93\u5165\u751F\u6210\u5305\u8DEF\u5F84",trigger:"blur"}],moduleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u751F\u6210\u6A21\u5757\u540D",trigger:"blur"}],businessName:[{required:!0,message:"\u8BF7\u8F93\u5165\u751F\u6210\u4E1A\u52A1\u540D",trigger:"blur"}],functionName:[{required:!0,message:"\u8BF7\u8F93\u5165\u751F\u6210\u529F\u80FD\u540D",trigger:"blur"}]}),B=f=>{c.info.subTableFkName=""},O=f=>{f!=="sub"&&(c.info.subTableName="",c.info.subTableFkName="")},V=f=>{for(let a in c.tables){const r=c.tables[a].tableName;if(f===r){I.value=c.tables[a].columns;break}}},j=()=>{me().then(f=>{F.value=P.handleTree(f.data,"menuId"),console.log("menuOptions.value",F.value)})};J(()=>c.info.subTableName,f=>{V(f)}),j();const Q=()=>{},x=(f,a,r)=>{};return M({handleFinish:Q,validate:x,genInfoForm:U}),(f,a)=>{const r=Y,g=Z,s=re,i=_e,d=D("c-icon"),m=ee,z=D("el-input"),C=te,G=de,q=se,H=ie,L=le,R=ne,$=ae,A=oe,E=pe,k=ce,W=fe;return u(),p(W,{ref_key:"genInfoForm",ref:U,model:n.info,rules:S.value,labelCol:{span:6,offset:2},onFinish:Q,onValidate:x},{default:e(()=>[t(k,null,{default:e(()=>[t(i,{span:12},{default:e(()=>[t(s,{name:"tplCategory"},{label:e(()=>[ve]),default:e(()=>[t(g,{value:n.info.tplCategory,"onUpdate:value":a[0]||(a[0]=l=>n.info.tplCategory=l),onChange:O},{default:e(()=>[t(r,{value:"crud"},{default:e(()=>[be]),_:1}),t(r,{value:"tree"},{default:e(()=>[ge]),_:1}),t(r,{value:"sub"},{default:e(()=>[ye]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,{name:"packageName"},{label:e(()=>[Ne,t(m,{title:"\u751F\u6210\u5728\u54EA\u4E2Ajava\u5305\u4E0B\uFF0C\u4F8B\u5982 com.ruoyi.system",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(z,{value:n.info.packageName,"onUpdate:value":a[1]||(a[1]=l=>n.info.packageName=l)},null,8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,{name:"moduleName"},{label:e(()=>[Ce,t(m,{title:"\u53EF\u7406\u89E3\u4E3A\u5B50\u7CFB\u7EDF\u540D\uFF0C\u4F8B\u5982 system",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(C,{value:n.info.moduleName,"onUpdate:value":a[2]||(a[2]=l=>n.info.moduleName=l)},null,8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,{name:"businessName"},{label:e(()=>[he,t(m,{title:"\u53EF\u7406\u89E3\u4E3A\u529F\u80FD\u82F1\u6587\u540D\uFF0C\u4F8B\u5982 user",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(C,{value:n.info.businessName,"onUpdate:value":a[3]||(a[3]=l=>n.info.businessName=l)},null,8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,{name:"functionName"},{label:e(()=>[Fe,t(m,{content:"\u7528\u4F5C\u7C7B\u63CF\u8FF0\uFF0C\u4F8B\u5982 \u7528\u6237",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(C,{value:n.info.functionName,"onUpdate:value":a[4]||(a[4]=l=>n.info.functionName=l)},null,8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[ke,t(m,{title:"\u5206\u914D\u5230\u6307\u5B9A\u83DC\u5355\u4E0B\uFF0C\u4F8B\u5982 \u7CFB\u7EDF\u7BA1\u7406",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(G,{value:n.info.parentMenuId,"onUpdate:value":a[5]||(a[5]=l=>n.info.parentMenuId=l),style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9\u7CFB\u7EDF\u83DC\u5355","allow-clear":"","tree-default-expand-all":"","tree-data":F.value,"field-names":{children:"children",label:"menuName",value:"menuId"}},null,8,["value","tree-data"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,{name:"genType"},{label:e(()=>[Te,t(m,{title:"\u9ED8\u8BA4\u4E3Azip\u538B\u7F29\u5305\u4E0B\u8F7D\uFF0C\u4E5F\u53EF\u4EE5\u81EA\u5B9A\u4E49\u751F\u6210\u8DEF\u5F84",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(H,{value:n.info.genType,"onUpdate:value":a[6]||(a[6]=l=>n.info.genType=l),name:"radioGroup"},{default:e(()=>[t(q,{value:"0"},{default:e(()=>[we]),_:1}),t(q,{value:"1"},{default:e(()=>[Ue]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),n.info.genType=="1"?(u(),p(i,{key:0,span:12},{default:e(()=>[t(s,{name:"genPath"},{label:e(()=>[Ie,t(m,{title:"\u586B\u5199\u78C1\u76D8\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u82E5\u4E0D\u586B\u5199\uFF0C\u5219\u751F\u6210\u5230\u5F53\u524DWeb\u9879\u76EE\u4E0B",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(E,{compact:""},{default:e(()=>[t(C,{value:n.info.genPath,"onUpdate:value":a[7]||(a[7]=l=>n.info.genPath=l),style:{width:"64%"}},null,8,["value"]),t(A,null,{overlay:e(()=>[t($,null,{default:e(()=>[t(R,{onClick:a[8]||(a[8]=l=>n.info.genPath="/")},{default:e(()=>[xe]),_:1})]),_:1})]),default:e(()=>[t(L,{type:"primary"},{default:e(()=>[Qe,t(d,{type:"CaretDownOutlined"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1}),n.info.tplCategory=="tree"?(u(),v(b,{key:0},[qe,K(t(k,null,{default:e(()=>[t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[De,t(m,{title:"\u6811\u663E\u793A\u7684\u7F16\u7801\u5B57\u6BB5\u540D\uFF0C \u5982\uFF1Adept_id",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(g,{value:n.info.treeCode,"onUpdate:value":a[9]||(a[9]=l=>n.info.treeCode=l),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(u(!0),v(b,null,y(n.info.columns,(l,_)=>(u(),p(r,{key:_,label:l.columnName+"\uFF1A"+l.columnComment,value:l.columnName},{default:e(()=>[o(N(l.columnName+"\uFF1A"+l.columnComment),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[Me,t(m,{title:"\u6811\u663E\u793A\u7684\u7236\u7F16\u7801\u5B57\u6BB5\u540D\uFF0C \u5982\uFF1Aparent_Id",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(g,{value:n.info.treeParentCode,"onUpdate:value":a[10]||(a[10]=l=>n.info.treeParentCode=l),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(u(!0),v(b,null,y(n.info.columns,(l,_)=>(u(),p(r,{key:_,value:l.columnName},{default:e(()=>[o(N(l.columnName+"\uFF1A"+l.columnComment),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[Pe,t(m,{title:"\u6811\u8282\u70B9\u7684\u663E\u793A\u540D\u79F0\u5B57\u6BB5\u540D\uFF0C \u5982\uFF1Adept_name",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(g,{value:n.info.treeName,"onUpdate:value":a[11]||(a[11]=l=>n.info.treeName=l),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(u(!0),v(b,null,y(n.info.columns,(l,_)=>(u(),p(r,{key:_,value:l.columnName},{default:e(()=>[o(N(l.columnName+"\uFF1A"+l.columnComment),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},512),[[X,n.info.tplCategory=="tree"]])],64)):T("",!0),n.info.tplCategory=="sub"?(u(),v(b,{key:1},[Se,t(k,null,{default:e(()=>[t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[Be,t(m,{title:"\u5173\u8054\u5B50\u8868\u7684\u8868\u540D\uFF0C \u5982\uFF1Asys_user",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(g,{value:n.info.subTableName,"onUpdate:value":a[12]||(a[12]=l=>n.info.subTableName=l),placeholder:"\u8BF7\u9009\u62E9",onChange:B},{default:e(()=>[(u(!0),v(b,null,y(n.tables,(l,_)=>(u(),p(r,{key:_,value:l.tableName},{default:e(()=>[o(N(l.tableName+"\uFF1A"+l.tableComment),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),t(i,{span:12},{default:e(()=>[t(s,null,{label:e(()=>[Oe,t(m,{title:"\u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D\uFF0C \u5982\uFF1Auser_id",placement:"top"},{default:e(()=>[t(d,{type:"QuestionCircleFilled"})]),_:1})]),default:e(()=>[t(g,{value:n.info.subTableFkName,"onUpdate:value":a[13]||(a[13]=l=>n.info.subTableFkName=l),placeholder:"\u8BF7\u9009\u62E9"},{default:e(()=>[(u(!0),v(b,null,y(I.value,(l,_)=>(u(),p(r,{key:_,value:l.columnName},{default:e(()=>[o(N(l.columnName+"\uFF1A"+l.columnComment),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})],64)):T("",!0)]),_:1},8,["model","rules"])}}};export{Ee as default};
