import{l as m,r as A,k as L,bC as O,o as g,q as h,m as n,i as s,f as a,e as $,w as q,x as _,be as w,I as j,D as z,bf as E,d7 as G,b3 as H}from"./index.f356dcab.js";/* empty css              */import{g as J,u as K,a as M}from"./shopManage.6d6375b1.js";import{_ as Q,F as W}from"./Form.6e04adbe.js";import"./isPlainObject.4b2dde9d.js";const X={class:"bottom-control"},Y=_("\u53D6\u6D88"),Z=_("\u4FDD\u5B58"),ee=_("\u4FDD\u5B58"),ue={__name:"CreateForm",props:{deptOptions:{type:Array,required:!0}},emits:["ok"],setup(ae,{expose:F,emit:b}){const{proxy:U}=H(),c=m(),p=m(1);m([]),m([]);const k=A({formTitle:"\u57FA\u672C\u4FE1\u606F",submitLoading:!1,form:{address:void 0,branchid:void 0,custId:void 0,merchantid:void 0,password:void 0,personName:void 0,port:void 0,posid:void 0,shopName:void 0,aliasName:void 0,shopPhone:void 0,sort:void 0,userId:void 0,shopId:void 0},open:!1,rules:{address:[{required:!0,message:"\u5916\u8054\u5E73\u53F0\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],branchid:[{required:!0,message:"\u5206\u884C\u4EE3\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],custId:[{required:!0,message:"\u7F51\u94F6\u5546\u6237\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],merchantid:[{required:!0,message:"\u5546\u6237\u4EE3\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],personName:[{required:!0,message:"\u8D1F\u8D23\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],port:[{required:!0,message:"\u5916\u8054\u5E73\u53F0\u7AEF\u53E3\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],posid:[{required:!0,message:"\u5546\u6237\u67DC\u53F0\u4EE3\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{max:9,message:"\u5546\u6237\u67DC\u53F0\u4EE3\u7801\u4E0D\u80FD\u5927\u4E8E9\u4E2A\u5B57\u7B26"}],shopName:[{required:!0,message:"\u95E8\u5E97\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],aliasName:[{required:!0,message:"\u95E8\u5E97\u7B80\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u6392\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],userId:[{required:!0,message:"\u64CD\u4F5C\u5458\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],password:[{required:!0,message:"\u64CD\u4F5C\u5458\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{formTitle:N,submitLoading:i,form:e,open:t,rules:x}=L(k),y=()=>{c.value.resetFields(),t.value=!1,f()},f=()=>{p.value=1,e.value={address:void 0,branchid:void 0,custId:void 0,merchantid:void 0,password:void 0,personName:void 0,port:null,posid:void 0,shopName:void 0,shopPhone:void 0,sort:1,userId:void 0,shopId:void 0},U.resetForm("formRef")},P=d=>{f(),p.value=1,t.value=!0},C=d=>{f(),p.value=2;const l=d.shopId;J(l).then(o=>{e.value=o.data,t.value=!0,N.value="\u4FEE\u6539\u57FA\u672C\u4FE1\u606F"})},V=d=>{i.value=!0,e.value.sort=Number(e.value.sort),e.value.port=Number(e.value.port),e.value.shopId?K(e.value).then(l=>{w.success("\u4FEE\u6539\u6210\u529F",3),t.value=!1,b("ok")}).finally(()=>{i.value=!1}):M(e.value).then(l=>{w.success("\u65B0\u589E\u6210\u529F",3),t.value=!1,b("ok")}).finally(()=>{i.value=!1})},B=d=>{console.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25",d)},R=(...d)=>{};return F({handleAdd:P,handleUpdate:C}),(d,l)=>{const o=j,u=Q,v=z,T=E,D=W,S=G,I=O("hasPermi");return g(),h(S,{width:600,title:a(N),"label-col":4,"wrapper-col":14,visible:a(t),onClose:y},{default:n(()=>[s(D,{"label-col":{span:5},"wrapper-col":{span:18},ref_key:"formRef",ref:c,model:a(e),rules:a(x),onFinish:V,onValidate:R,onFinishFailed:B},{default:n(()=>[s(u,{label:"\u95E8\u5E97\u540D\u79F0",name:"shopName"},{default:n(()=>[s(o,{value:a(e).shopName,"onUpdate:value":l[0]||(l[0]=r=>a(e).shopName=r),placeholder:"\u8BF7\u8F93\u5165\u95E8\u5E97\u540D\u79F0"},null,8,["value"])]),_:1}),s(u,{label:"\u95E8\u5E97\u7B80\u79F0",name:"aliasName"},{default:n(()=>[s(o,{value:a(e).aliasName,"onUpdate:value":l[1]||(l[1]=r=>a(e).aliasName=r),placeholder:"\u8BF7\u8F93\u5165\u95E8\u5E97\u7B80\u79F0"},null,8,["value"])]),_:1}),s(u,{label:"\u8D1F\u8D23\u4EBA",name:"personName"},{default:n(()=>[s(o,{value:a(e).personName,"onUpdate:value":l[2]||(l[2]=r=>a(e).personName=r),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA"},null,8,["value"])]),_:1}),s(u,{label:"\u8054\u7CFB\u65B9\u5F0F",name:"shopPhone"},{default:n(()=>[s(o,{value:a(e).shopPhone,"onUpdate:value":l[3]||(l[3]=r=>a(e).shopPhone=r),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u65B9\u5F0F"},null,8,["value"])]),_:1}),s(u,{label:"\u95E8\u5E97\u6392\u5E8F",name:"sort"},{default:n(()=>[s(o,{value:a(e).sort,"onUpdate:value":l[4]||(l[4]=r=>a(e).sort=r),type:"number",placeholder:"\u8BF7\u8F93\u5165\u95E8\u5E97\u6392\u5E8F"},null,8,["value"])]),_:1}),s(u,{label:"\u7F51\u94F6\u5546\u6237\u53F7",name:"custId"},{default:n(()=>[s(o,{value:a(e).custId,"onUpdate:value":l[5]||(l[5]=r=>a(e).custId=r),placeholder:"\u8BF7\u8F93\u5165\u7F51\u94F6\u5546\u6237\u53F7"},null,8,["value"])]),_:1}),s(u,{label:"\u5546\u6237\u67DC\u53F0\u4EE3\u7801",name:"posid"},{default:n(()=>[s(o,{value:a(e).posid,"onUpdate:value":l[6]||(l[6]=r=>a(e).posid=r),placeholder:"\u8BF7\u8F93\u5165\u5546\u6237\u67DC\u53F0\u4EE3\u7801"},null,8,["value"])]),_:1}),s(u,{label:"\u5916\u8054\u5E73\u53F0\u5730\u5740",name:"address"},{default:n(()=>[s(o,{value:a(e).address,"onUpdate:value":l[7]||(l[7]=r=>a(e).address=r),placeholder:"\u8BF7\u8F93\u5165\u5916\u8054\u5E73\u53F0\u5730\u5740"},null,8,["value"])]),_:1}),s(u,{label:"\u5916\u8054\u5E73\u53F0\u7AEF\u53E3",name:"port"},{default:n(()=>[s(o,{value:a(e).port,"onUpdate:value":l[8]||(l[8]=r=>a(e).port=r),type:"number",placeholder:"\u8BF7\u8F93\u5165\u5916\u8054\u5E73\u53F0\u7AEF\u53E3"},null,8,["value"])]),_:1}),s(u,{label:"\u64CD\u4F5C\u5458\u8D26\u53F7",name:"userId"},{default:n(()=>[s(o,{value:a(e).userId,"onUpdate:value":l[9]||(l[9]=r=>a(e).userId=r),placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u5458\u8D26\u53F7"},null,8,["value"])]),_:1}),s(u,{label:"\u64CD\u4F5C\u5458\u5BC6\u7801",name:"password"},{default:n(()=>[s(o,{value:a(e).password,"onUpdate:value":l[10]||(l[10]=r=>a(e).password=r),placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u5458\u5BC6\u7801"},null,8,["value"])]),_:1}),$("div",X,[s(T,null,{default:n(()=>[s(v,{type:"dashed",danger:"",onClick:y},{default:n(()=>[Y]),_:1}),p.value==2?q((g(),h(v,{key:0,type:"primary",loading:a(i),"html-type":"submitForm"},{default:n(()=>[Z]),_:1},8,["loading"])),[[I,["maiquxinyu:shop:edit"]]]):q((g(),h(v,{key:1,type:"primary",loading:a(i),"html-type":"submitForm"},{default:n(()=>[ee]),_:1},8,["loading"])),[[I,["maiquxinyu:shop:add"]]])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])}}};export{ue as default};
