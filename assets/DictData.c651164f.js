import{l as d,bB as W,d as X,r as Y,k as Z,b2 as ee,bC as te,o as i,c as D,i as a,m as o,e as ae,w as u,q as p,f as c,bF as T,s as I,F as R,x as b,de as ne,df as $,be as N,M as oe,bG as se,D as le,bf as ie,bJ as ce,bK as re,d9 as de,bL as ue}from"./index.eed59c8a.js";import{C as pe}from"./index.dbfe01a9.js";import{_ as me}from"./index.ce53685a.js";import"./index.dc2e029d.js";import{_ as _e}from"./index.bd1fc01d.js";import ge from"./CreateDataForm.488f5fe5.js";import"./index.bd68bfa1.js";import"./isPlainObject.e1353217.js";import"./index.60929ff8.js";import"./RadioButton.a28003a6.js";import"./index.e50e374b.js";import"./Group.69eabd48.js";import"./Search.63c74586.js";import"./Password.525a1a03.js";/* empty css              */import"./index.4efc3d67.js";import"./Form.ebe4e7a6.js";const fe={class:"table-operations"},ye=b(" \u65B0\u589E "),ve=b(" \u5220\u9664 "),be=b(" \u4FEE\u6539 "),he=b("\u5220\u9664"),Pe={__name:"DictData",props:{dictType:{type:String,required:!0},dictId:{type:Number,required:!0},sys_normal_disable:{type:Array,required:!0}},setup(m){const q=m,_=d(!0),S=d([]),k=d(0),z=W(),g=X({get(){return z.size},set(e){z.setSize(e)}}),B=d(!1),x=d(!0),F=Y({selectedRowKeys:[],queryParams:{pageNum:1,pageSize:10,dictType:void 0},columns:[{title:"\u5B57\u5178\u7F16\u7801",dataIndex:"dictCode",align:"center"},{title:"\u5B57\u5178\u6807\u7B7E",dataIndex:"dictLabel",ellipsis:!0,align:"center"},{title:"\u5B57\u5178\u952E\u503C",dataIndex:"dictValue",ellipsis:!0,align:"center"},{title:"\u5B57\u5178\u6392\u5E8F",dataIndex:"dictSort",ellipsis:!0,align:"center"},{title:"\u72B6\u6001",dataIndex:"status",scopedSlots:{customRender:"status"},align:"center"},{title:"\u5907\u6CE8",dataIndex:"remark",ellipsis:!0,align:"center"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",ellipsis:!0,scopedSlots:{customRender:"createTime"},align:"center"},{title:"\u64CD\u4F5C",dataIndex:"operation",width:"15%",scopedSlots:{customRender:"operation"},align:"center"}]}),{selectedRowKeys:f,queryParams:s,columns:y}=Z(F),l=()=>{_.value=!0,s.value.dictType=q.dictType,ne(s.value).then(e=>{S.value=e.rows,k.value=e.total,_.value=!1})},h=e=>{f.value=e,x.value=!f.value.length},K=e=>{const t=e.dictCode;$(t).then(()=>{h([]),l(),N.success("\u5220\u9664\u6210\u529F",3)})},O=()=>{const e=f.value;oe.confirm({title:"\u786E\u8BA4\u5220\u9664?",icon:a(se),content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u5220\u9664",okType:"danger",cancelText:"\u53D6\u6D88",onOk(){$(e).then(()=>{h([]),l(),N.success("\u5220\u9664\u6210\u529F",3)})},onCancel(){}})},P=()=>{},V=(e,t)=>{s.value.pageSize=t,l()},L=(e,t)=>{s.value.pageNum=e,s.value.pageSize=t,l()};return l(),(e,t)=>{const w=ee("c-icon"),v=le,A=ie,U=ce,E=re,M=de,j=_e,G=me,J=ue,H=pe,r=te("hasPermi");return i(),D(R,null,[a(ge,{ref:"createDataForm",sys_normal_disable:m.sys_normal_disable,dictType:m.dictType,onOk:l},null,8,["sys_normal_disable","dictType"]),a(H,{bordered:!1,style:{background:"#f2f4f5"}},{default:o(()=>[ae("div",fe,[a(A,null,{default:o(()=>[u((i(),p(v,{type:"primary",size:"small",onClick:t[0]||(t[0]=n=>e.$refs.createDataForm.handleAdd()),ghost:""},{default:o(()=>[a(w,{type:"PlusOutlined"}),ye]),_:1})),[[r,["system:dict:add"]]]),u((i(),p(v,{type:"danger",disabled:x.value,onClick:O,size:"small",ghost:""},{default:o(()=>[a(w,{type:"DeleteOutlined"}),ve]),_:1},8,["disabled"])),[[r,["system:dict:remove"]]])]),_:1}),a(U,{class:"float-right",columns:c(y),"onUpdate:columns":t[1]||(t[1]=n=>T(y)?y.value=n:null),tableSize:c(g),"onUpdate:tableSize":t[2]||(t[2]=n=>T(g)?g.value=n:null),"refresh-loading":_.value,onRefresh:l},null,8,["columns","tableSize","refresh-loading"])]),a(G,{loading:_.value,rowKey:"dictCode",size:c(g),columns:c(y),"data-source":S.value,"row-selection":{selectedRowKeys:c(f),onChange:h},scroll:{y:300},bordered:B.value,pagination:!1},{bodyCell:o(({column:n,record:C})=>[n.dataIndex==="status"?(i(),p(E,{key:0,options:m.sys_normal_disable,value:C.status},null,8,["options","value"])):I("",!0),n.dataIndex==="operation"?(i(),D(R,{key:1},[u((i(),p(v,{class:"ant-btn-sm",type:"link",onClick:Q=>e.$refs.createDataForm.handleUpdate(C)},{default:o(()=>[be]),_:2},1032,["onClick"])),[[r,["system:dict:edit"]]]),u(a(M,{type:"vertical"},null,512),[[r,["system:dict:remove"]]]),a(j,{title:"\u786E\u5B9A\u5220\u9664\u5417?","ok-text":"\u786E\u8BA4","cancel-text":"\u53D6\u6D88","ok-type":"danger",onConfirm:Q=>K(C),onCancel:P},{default:o(()=>[u((i(),p(v,{class:"ant-btn-sm",type:"link",danger:""},{default:o(()=>[he]),_:1})),[[r,["system:dict:remove"]]])]),_:2},1032,["onConfirm"])],64)):I("",!0)]),_:1},8,["loading","size","columns","data-source","row-selection","bordered"]),a(J,{class:"ant-table-pagination float-right","show-size-changer":"","show-quick-jumper":"",current:c(s).pageNum,total:k.value,"page-size":c(s).pageSize,"show-total":n=>`\u5171 ${n} \u6761`,onShowSizeChange:V,onChange:L},null,8,["current","total","page-size","show-total"])]),_:1})],64)}}};export{Pe as default};
