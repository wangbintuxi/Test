import{l as i,r as P,o as b,q as v,m as a,i as o,e as y,x as m,be as x,D as q,bf as h,b3 as B}from"./index.b2a8007e.js";/* empty css              */import{b as C}from"./user.58adc7e2.js";import{_ as F}from"./Password.f34c4271.js";import{_ as U,F as N}from"./Form.974d28bd.js";import"./isPlainObject.87445d09.js";const T={class:"flex justify-center"},V=m("\u4FDD\u5B58"),k=m("\u5173\u95ED"),A={__name:"ResetPwd",setup(R){const{proxy:p}=B(),n=i(!1),e=P({oldPassword:void 0,newPassword:void 0,confirmPassword:void 0}),_=i({oldPassword:[{required:!0,message:"\u65E7\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],newPassword:[{required:!0,message:"\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:6,max:20,message:"\u957F\u5EA6\u5728 6 \u5230 20 \u4E2A\u5B57\u7B26",trigger:"blur"}],confirmPassword:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{required:!0,validator:(u,s,r)=>{e.newPassword!==s?r(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):r()},trigger:"blur"}]});function f(){n.value||(n.value=!0,C(e.oldPassword,e.newPassword).then(u=>{x.success("\u4FEE\u6539\u6210\u529F",3),n.value=!1}))}function c(){p.$tab.closePage()}return(u,s)=>{const r=F,l=U,d=q,w=h,g=N;return b(),v(g,{ref:"pwdRef",model:e,rules:_.value,labelCol:{style:"width: 100px"},onFinish:f},{default:a(()=>[o(l,{label:"\u65E7\u5BC6\u7801",name:"oldPassword"},{default:a(()=>[o(r,{value:e.oldPassword,"onUpdate:value":s[0]||(s[0]=t=>e.oldPassword=t),placeholder:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",type:"password",autocomplete:"off"},null,8,["value"])]),_:1}),o(l,{label:"\u65B0\u5BC6\u7801",name:"newPassword"},{default:a(()=>[o(r,{value:e.newPassword,"onUpdate:value":s[1]||(s[1]=t=>e.newPassword=t),placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",type:"password",autocomplete:"off"},null,8,["value"])]),_:1}),o(l,{label:"\u786E\u8BA4\u5BC6\u7801",name:"confirmPassword"},{default:a(()=>[o(r,{value:e.confirmPassword,"onUpdate:value":s[2]||(s[2]=t=>e.confirmPassword=t),placeholder:"\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801",type:"password",autocomplete:"off"},null,8,["value"])]),_:1}),o(l,null,{default:a(()=>[y("div",T,[o(w,{size:16},{default:a(()=>[o(d,{type:"primary",loading:n.value,"html-type":"submitForm"},{default:a(()=>[V]),_:1},8,["loading"]),o(d,{type:"danger",onClick:c},{default:a(()=>[k]),_:1})]),_:1})])]),_:1})]),_:1},8,["model","rules"])}}};export{A as default};
