import{bg as m,l as V,r as $,k as j,o as z,q as A,m as l,i as s,f as t,e as L,x as y,I as O,E as D,D as E,bf as M,d7 as G,b3 as H}from"./index.b2a8007e.js";/* empty css              */import{_ as J}from"./index.1a7277f2.js";import{_ as K}from"./index.8e75a6a5.js";import{_ as Q,F as W}from"./Form.974d28bd.js";function pe(a){return m({url:"/system/post/list",method:"get",params:a})}function X(a){return m({url:"/system/post/"+a,method:"get"})}function Y(a){return m({url:"/system/post",method:"post",data:a})}function Z(a){return m({url:"/system/post",method:"put",data:a})}function me(a){return m({url:"/system/post/"+a,method:"delete"})}const ee={class:"bottom-control"},te=y("\u53D6\u6D88"),oe=y("\u4FDD\u5B58"),se={__name:"CreateForm",props:{sys_normal_disable:{type:Array,required:!0}},emits:["ok"],setup(a,{expose:h,emit:v}){const k=V(),{proxy:C}=H(),F=$({formTitle:"",submitLoading:!1,form:{postId:null,postCode:null,postName:null,postSort:null,status:"0",remark:null},formType:1,open:!1,rules:{postCode:[{required:!0,message:"\u5C97\u4F4D\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],postName:[{required:!0,message:"\u5C97\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],postSort:[{required:!0,message:"\u663E\u793A\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{formTitle:_,submitLoading:d,form:e,formType:c,open:p,rules:w}=j(F),g=()=>{f(),p.value=!1},f=()=>{c.value=1,e.value={postId:null,postCode:null,postName:null,postSort:null,status:"0",remark:null},C.resetForm("formRef")},I=r=>{f(),c.value=1,p.value=!0,_.value="\u6DFB\u52A0\u5C97\u4F4D\u4FE1\u606F"},N=(r,o)=>{f(),c.value=2;const i=r?r.postId:o.value;X(i).then(u=>{e.value=u.data,p.value=!0,_.value="\u4FEE\u6539\u5C97\u4F4D\u4FE1\u606F"})},S=r=>{d.value=!0,e.value.postId!==void 0&&e.value.postId!==null?Z(e.value).then(o=>{message.success("\u4FEE\u6539\u6210\u529F",3),p.value=!1,v("ok")}).finally(()=>{d.value=!1}):Y(e.value).then(o=>{message.success("\u65B0\u589E\u6210\u529F",3),p.value=!1,v("ok")}).finally(()=>{d.value=!1})},x=r=>{console.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25",r)};return h({handleAdd:I,handleUpdate:N}),(r,o)=>{const i=O,u=Q,q=K,P=J,R=D,b=E,T=M,U=W,B=G;return z(),A(B,{width:600,title:t(_),"label-col":4,"wrapper-col":14,visible:t(p),onClose:g},{default:l(()=>[s(U,{"label-col":{span:5},"wrapper-col":{span:18},ref_key:"formRef",ref:k,model:t(e),rules:t(w),onFinish:S,onFinishFailed:x},{default:l(()=>[s(u,{label:"\u5C97\u4F4D\u7F16\u7801",name:"postCode"},{default:l(()=>[s(i,{value:t(e).postCode,"onUpdate:value":o[0]||(o[0]=n=>t(e).postCode=n),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801"},null,8,["value"])]),_:1}),s(u,{label:"\u5C97\u4F4D\u540D\u79F0",name:"postName"},{default:l(()=>[s(i,{value:t(e).postName,"onUpdate:value":o[1]||(o[1]=n=>t(e).postName=n),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["value"])]),_:1}),s(u,{label:"\u663E\u793A\u987A\u5E8F",name:"postSort"},{default:l(()=>[s(q,{style:{width:"100%"},value:t(e).postSort,"onUpdate:value":o[2]||(o[2]=n=>t(e).postSort=n),placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F"},null,8,["value"])]),_:1}),s(u,{label:"\u72B6\u6001",name:"status"},{default:l(()=>[s(P,{value:t(e).status,"onUpdate:value":o[3]||(o[3]=n=>t(e).status=n),options:a.sys_normal_disable},null,8,["value","options"])]),_:1}),s(u,{label:"\u5907\u6CE8",name:"remark"},{default:l(()=>[s(R,{value:t(e).remark,"onUpdate:value":o[4]||(o[4]=n=>t(e).remark=n),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",autoSize:{minRows:4,maxRows:8},"allow-clear":""},null,8,["value"])]),_:1}),L("div",ee,[s(T,null,{default:l(()=>[s(b,{type:"dashed",danger:"",onClick:g},{default:l(()=>[te]),_:1}),s(b,{type:"primary",loading:t(d),"html-type":"submitForm"},{default:l(()=>[oe]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])}}};var de=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));export{de as C,se as _,me as d,pe as l};
