import{_ as O,G as Q,u as H,l as m,r as M,k as W,b2 as $,o as d,q as u,m as e,i as t,f as x,bd as J,s as p,c as A,bD as X,e as T,t as g,F as Y,x as l,be as C,b5 as Z,I as ee,bH as te,bI as ae,cK as ne,b6 as le,D as oe,bf as se,b3 as de}from"./index.b2a8007e.js";import{C as ie}from"./index.97ae9f09.js";import{_ as ue}from"./index.85ab3c8f.js";import"./index.1a7277f2.js";import{g as ce,u as _e}from"./gen.6a4eb0c3.js";import{o as pe}from"./type.885838e0.js";import re from"./BasicInfoForm.cea7bbed.js";import me from"./GenInfoForm.fe236de9.js";import"./index.0d46dd88.js";import"./isPlainObject.87445d09.js";import"./index.8f8c4724.js";import"./RadioButton.f23841e3.js";import"./index.396ac728.js";import"./Group.2e989739.js";import"./Search.0f62a307.js";import"./Password.f34c4271.js";/* empty css              */import"./Form.974d28bd.js";import"./index.f937b318.js";import"./menu.fd51b367.js";const ve=l("Long"),fe=l("String"),he=l("Integer"),ye=l("Double"),ge=l("BigDecimal"),ke=l("Date"),Ie=l("Boolean"),be=l("="),xe=l("!="),Te=l(">"),Ce=l(">="),Ue=l(g("<")),we=l(g("<=")),Ee=l("LIKE"),Ne=l("BETWEEN"),ze=l("\u6587\u672C\u6846"),Ve=l("\u6587\u672C\u57DF"),Fe=l("\u4E0B\u62C9\u6846"),qe=l("\u5355\u9009\u6846"),Le=l("\u65E5\u671F\u63A7\u4EF6"),je=l("\u56FE\u7247\u4E0A\u4F20"),Be=l("\u6587\u4EF6\u4E0A\u4F20"),De=l("\u5BCC\u6587\u672C\u63A7\u4EF6"),Re={style:{float:"left"}},Ke={style:{float:"right",color:"#8492a6","font-size":"13px"}},Pe={style:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},Se=l("\u63D0\u4EA4"),Ge=l("\u8FD4\u56DE"),Oe=Q({name:"GenEdit"}),Qe=Object.assign(Oe,{setup(He){const k=H(),{proxy:q}=de(),U=m(null),w=m(null),E=m("basic"),L=m(document.documentElement.scrollHeight-245+"px"),I=m(!0),N=m([]),b=m([]),j=M({selectedRowKeys:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},columns:[{title:"\u5B57\u6BB5\u5217\u540D",dataIndex:"columnName",ellipsis:!0,align:"center"},{title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",width:"10%",align:"center"},{title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",align:"center"},{title:"Java\u7C7B\u578B",dataIndex:"javaType",width:"11%",align:"center"},{title:"Java\u5C5E\u6027",dataIndex:"javaField",width:"10%",align:"center"},{title:"\u63D2\u5165",dataIndex:"isInsert",width:"5%",align:"center"},{title:"\u7F16\u8F91",dataIndex:"isEdit",width:"5%",align:"center"},{title:"\u5217\u8868",dataIndex:"isList",width:"5%",align:"center"},{title:"\u67E5\u8BE2",dataIndex:"isQuery",width:"5%",align:"center"},{title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",width:"10%",align:"center"},{title:"\u5FC5\u586B",dataIndex:"isRequired",width:"5%",align:"center"},{title:"\u663E\u793A\u7C7B\u578B",dataIndex:"htmlType",width:"12%",align:"center"},{title:"\u5B57\u5178\u7C7B\u578B",dataIndex:"dictType",width:"12%",align:"center"}]}),{columns:B}=W(j),z=m([]),v=m({}),D=()=>{var s,f;const r=(s=U.value)==null?void 0:s.basicInfoForm,c=(f=w.value)==null?void 0:f.genInfoForm;Promise.all([r,c].map(R)).then(a=>{if(a.every(_=>!!_)){const _=Object.assign({},v.value);_.columns=b.value,_.params={treeCode:v.value.treeCode,treeName:v.value.treeName,treeParentCode:v.value.treeParentCode,parentMenuId:v.value.parentMenuId},_e(_).then(y=>{C.success(y.msg,3),y.code===200&&V()})}else C.error("\u8868\u5355\u6821\u9A8C\u672A\u901A\u8FC7\uFF0C\u8BF7\u91CD\u65B0\u68C0\u67E5\u63D0\u4EA4\u5185\u5BB9",3)})};function R(r){return r==null?!0:new Promise(c=>{r.validate().then(s=>{c(s)}).catch(s=>{C.error(s.errorFields[0].errors[0],3)})})}function V(){const r={path:"/tool/gen",query:{t:Date.now(),pageNum:k.query.pageNum}};q.$tab.closeOpenPage(r)}return(()=>{const r=k.params&&k.params.tableId;r&&(I.value=!0,ce(r).then(c=>{b.value=c.data.rows.map(s=>(s.dictType==""&&(s.dictType=null),s)),v.value=c.data.info,N.value=c.data.tables,I.value=!1}),pe().then(c=>{z.value=c.data}))})(),(r,c)=>{const s=Z,f=ee,a=te,h=ae,_=ne,y=ue,K=le,F=oe,P=se,S=$("el-form"),G=ie;return d(),u(G,{class:"card p-0"},{default:e(()=>[t(K,{activeKey:E.value,"onUpdate:activeKey":c[0]||(c[0]=i=>E.value=i)},{default:e(()=>[t(s,{tab:"\u57FA\u672C\u4FE1\u606F",key:"basic"},{default:e(()=>[t(x(re),{ref_key:"basicInfo",ref:U,info:v.value},null,8,["info"])]),_:1}),t(s,{tab:"\u5B57\u6BB5\u4FE1\u606F",key:"columnInfo"},{default:e(()=>[t(y,{style:J("height:"+L.value),loading:I.value,rowKey:"columnId",columns:x(B),"data-source":b.value,pagination:!1,ref:"dragTable"},{bodyCell:e(({column:i,record:o})=>[i.dataIndex==="columnComment"?(d(),u(f,{key:0,size:"small",value:o.columnComment,"onUpdate:value":n=>o.columnComment=n},null,8,["value","onUpdate:value"])):p("",!0),i.dataIndex==="javaType"?(d(),u(h,{key:1,size:"small",value:o.javaType,"onUpdate:value":n=>o.javaType=n},{default:e(()=>[t(a,{value:"Long"},{default:e(()=>[ve]),_:1}),t(a,{value:"String"},{default:e(()=>[fe]),_:1}),t(a,{value:"Integer"},{default:e(()=>[he]),_:1}),t(a,{value:"Double"},{default:e(()=>[ye]),_:1}),t(a,{value:"BigDecimal"},{default:e(()=>[ge]),_:1}),t(a,{value:"Date"},{default:e(()=>[ke]),_:1}),t(a,{value:"Boolean"},{default:e(()=>[Ie]),_:1})]),_:2},1032,["value","onUpdate:value"])):p("",!0),i.dataIndex==="javaField"?(d(),u(f,{key:2,size:"small",value:o.javaField,"onUpdate:value":n=>o.javaField=n},null,8,["value","onUpdate:value"])):p("",!0),i.dataIndex==="isInsert"?(d(),u(_,{key:3,size:"small",checked:o.isInsert,"onUpdate:checked":n=>o.isInsert=n,checkedValue:"1",unCheckedValue:"0"},null,8,["checked","onUpdate:checked"])):p("",!0),i.dataIndex==="isEdit"?(d(),u(_,{key:4,size:"small",checked:o.isEdit,"onUpdate:checked":n=>o.isEdit=n,checkedValue:"1",unCheckedValue:"0"},null,8,["checked","onUpdate:checked"])):p("",!0),i.dataIndex==="isList"?(d(),u(_,{key:5,size:"small",checked:o.isList,"onUpdate:checked":n=>o.isList=n,checkedValue:"1",unCheckedValue:"0"},null,8,["checked","onUpdate:checked"])):p("",!0),i.dataIndex==="isQuery"?(d(),u(_,{key:6,size:"small",checked:o.isQuery,"onUpdate:checked":n=>o.isQuery=n,checkedValue:"1",unCheckedValue:"0"},null,8,["checked","onUpdate:checked"])):p("",!0),i.dataIndex==="queryType"?(d(),u(h,{key:7,size:"small",value:o.queryType,"onUpdate:value":n=>o.queryType=n},{default:e(()=>[t(a,{value:"EQ"},{default:e(()=>[be]),_:1}),t(a,{value:"NE"},{default:e(()=>[xe]),_:1}),t(a,{value:"GT"},{default:e(()=>[Te]),_:1}),t(a,{value:"GTE"},{default:e(()=>[Ce]),_:1}),t(a,{value:"LT"},{default:e(()=>[Ue]),_:1}),t(a,{value:"LTE"},{default:e(()=>[we]),_:1}),t(a,{value:"LIKE"},{default:e(()=>[Ee]),_:1}),t(a,{value:"BETWEEN"},{default:e(()=>[Ne]),_:1})]),_:2},1032,["value","onUpdate:value"])):p("",!0),i.dataIndex==="isRequired"?(d(),u(_,{key:8,size:"small",checked:o.isRequired,"onUpdate:checked":n=>o.isRequired=n,checkedValue:"1",unCheckedValue:"0"},null,8,["checked","onUpdate:checked"])):p("",!0),i.dataIndex==="htmlType"?(d(),u(h,{key:9,size:"small",value:o.htmlType,"onUpdate:value":n=>o.htmlType=n},{default:e(()=>[t(a,{value:"input"},{default:e(()=>[ze]),_:1}),t(a,{value:"textarea"},{default:e(()=>[Ve]),_:1}),t(a,{value:"select"},{default:e(()=>[Fe]),_:1}),t(a,{value:"radio"},{default:e(()=>[qe]),_:1}),t(a,{value:"datetime"},{default:e(()=>[Le]),_:1}),t(a,{value:"imageUpload"},{default:e(()=>[je]),_:1}),t(a,{value:"fileUpload"},{default:e(()=>[Be]),_:1}),t(a,{value:"editor"},{default:e(()=>[De]),_:1})]),_:2},1032,["value","onUpdate:value"])):p("",!0),i.dataIndex==="dictType"?(d(),u(h,{key:10,dropdownMatchSelectWidth:!1,placeholder:"\u8BF7\u9009\u62E9",size:"small",value:o.dictType,"onUpdate:value":n=>o.dictType=n,allowClear:""},{default:e(()=>[(d(!0),A(Y,null,X(z.value,n=>(d(),u(a,{key:n.dictType,value:n.dictType},{default:e(()=>[T("span",Re,g(n.dictName),1),T("span",Ke,g(n.dictType),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"])):p("",!0)]),_:1},8,["style","loading","columns","data-source"])]),_:1}),t(s,{tab:"\u751F\u6210\u4FE1\u606F",key:"genInfo"},{default:e(()=>[t(x(me),{ref_key:"genInfo",ref:w,info:v.value,tables:N.value},null,8,["info","tables"])]),_:1})]),_:1},8,["activeKey"]),t(S,{"label-width":"100px"},{default:e(()=>[T("div",Pe,[t(P,null,{default:e(()=>[t(F,{type:"primary",onClick:D},{default:e(()=>[Se]),_:1}),t(F,{onClick:V},{default:e(()=>[Ge]),_:1})]),_:1})])]),_:1})]),_:1})}}});var pt=O(Qe,[["__scopeId","data-v-66a9a1c5"]]);export{pt as default};
