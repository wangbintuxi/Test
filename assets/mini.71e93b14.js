import{bg as A,l as g,bC as z,o as d,q as b,m as e,i as o,e as l,c as I,bD as q,x as p,t as w,F as K,w as B,f as U,be as W,dl as x,I as $,D as Z}from"./index.f356dcab.js";/* empty css              */import{_ as E}from"./index.cd6ea1b3.js";import{C as N}from"./index.60bd41b9.js";import{_ as V,F as L}from"./Form.6e04adbe.js";import{_ as P}from"./RadioButton.0f6a2402.js";import"./index.659db672.js";import"./isPlainObject.4b2dde9d.js";function O(){return A({url:"/config/getWxConfig",method:"get"})}function j(_){return A({url:"/config/updateWxConfig",method:"post",data:_})}const G=l("span",{class:"card-title"},"\u57FA\u7840\u914D\u7F6E",-1),H=l("span",{class:"card-title"},"\u6D88\u606F\u63A8\u9001\u914D\u7F6E",-1),J={class:"flex"},M=p("\u91CD\u7F6E"),Q=l("div",{class:"mt-4 text-xs"},"Token\u5FC5\u987B\u4E3A\u82F1\u6587\u6216\u6570\u5B57\uFF0C\u957F\u5EA6\u4E3A3-32\u5B57\u7B26\u3002",-1),R={class:"flex"},X=p("\u91CD\u7F6E"),Y=l("div",{class:"mt-4 text-xs"},"\u6D88\u606F\u52A0\u5BC6\u5BC6\u94A5\u753143\u4F4D\u5B57\u7B26\u7EC4\u6210\uFF0C\u5B57\u7B26\u8303\u56F4\u4E3AA-Z,a-z,0-9",-1),ee=p(" \u4FDD \u5B58 "),ue={__name:"mini",setup(_){const n=g({}),h={componentAppId:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8FAppid!"}],componentSecret:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8FAppSecret!"}],componentToken:[{required:!0,message:"\u8BF7\u8F93\u5165Token\u4EE4\u724C!"},{pattern:/^[A-Za-z0-9]{3,32}$/,message:"Token\u4EE4\u724C\u957F\u5EA6\u4E3A3-32\u5B57\u7B26!",trigger:"blur"}],componentAesKey:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D88\u606F\u4F53\u52A0\u89E3\u5BC6\u5BC6\u94A5!"},{pattern:/^[A-Za-z0-9]{43}$/,message:"\u5B57\u7B26\u8303\u56F4\u4E3AA-Z,a-z,0-9,\u4E14\u957F\u5EA6\u4E3A43\u4F4D!",trigger:"blur"}],isDirect:[{required:!0,message:"\u8BF7\u9009\u62E9\u8FDE\u63A5\u65B9\u5F0F!"}]};let r=g(!1);const k=[{value:0,label:"\u670D\u52A1\u5546"},{value:1,label:"\u76F4\u8FDE"}];function v(){O().then(({data:s}=response)=>{n.value=s})}const y=s=>{r.value=!0,j(n.value).then(t=>{W.success("\u4FDD\u5B58\u6210\u529F!"),r.value=!1,v()}).catch(t=>{r.value=!1})},C=s=>{r.value=!1};function f(s){s=="token"?n.value.componentToken=x(32):n.value.componentAesKey=x(43)}return v(),(s,t)=>{const u=$,i=V,c=N,m=Z,F=P,T=E,D=L,S=z("hasPermi");return d(),b(D,{model:n.value,rules:h,name:"basic",labelCol:{xs:3,sm:5},"wrapper-col":{xs:14,sm:10},autocomplete:"off",onFinish:y,onFinishFailed:C},{default:e(()=>[o(c,{class:"card",size:"small"},{title:e(()=>[G]),default:e(()=>[o(i,{label:"Appid",name:"componentAppId"},{default:e(()=>[o(u,{value:n.value.componentAppId,"onUpdate:value":t[0]||(t[0]=a=>n.value.componentAppId=a),placeholder:"\u8BF7\u8F93\u5165Appid"},null,8,["value"])]),_:1}),o(i,{label:"AppSecret",name:"componentSecret"},{default:e(()=>[o(u,{value:n.value.componentSecret,"onUpdate:value":t[1]||(t[1]=a=>n.value.componentSecret=a),placeholder:"\u8BF7\u8F93\u5165AppSecret"},null,8,["value"])]),_:1})]),_:1}),o(c,{class:"card",size:"small"},{title:e(()=>[H]),default:e(()=>[o(i,{label:"Token(\u4EE4\u724C)",name:"componentToken"},{extra:e(()=>[Q]),default:e(()=>[l("div",J,[o(u,{value:n.value.componentToken,"onUpdate:value":t[2]||(t[2]=a=>n.value.componentToken=a),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u63A8\u9001Token(\u4EE4\u724C)",maxlength:32},null,8,["value"]),o(m,{class:"ml-8",type:"primary",onClick:t[3]||(t[3]=a=>f("token"))},{default:e(()=>[M]),_:1})])]),_:1}),o(i,{label:"EncodingAESKey",name:"componentAesKey"},{extra:e(()=>[Y]),default:e(()=>[l("div",R,[o(u,{value:n.value.componentAesKey,"onUpdate:value":t[4]||(t[4]=a=>n.value.componentAesKey=a),placeholder:"\u8BF7\u8F93\u5165\u6D88\u606F\u4F53\u52A0\u89E3\u5BC6\u5BC6\u94A5",maxlength:43},null,8,["value"]),o(m,{class:"ml-8",type:"primary",onClick:t[5]||(t[5]=a=>f("key"))},{default:e(()=>[X]),_:1})])]),_:1}),o(i,{label:"\u8FDE\u63A5\u6A21\u5F0F",name:"isDirect"},{default:e(()=>[o(T,{value:n.value.isDirect,"onUpdate:value":t[6]||(t[6]=a=>n.value.isDirect=a),"button-style":"solid"},{default:e(()=>[(d(),I(K,null,q(k,a=>o(F,{key:`${a.value}`,value:a.value},{default:e(()=>[p(w(a.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1})]),_:1}),o(c,{class:"card-btn",size:"small"},{default:e(()=>[B((d(),b(m,{type:"primary",loading:U(r),"html-type":"submit"},{default:e(()=>[ee]),_:1},8,["loading"])),[[S,["config:wxmini:updateConfig"]]])]),_:1})]),_:1},8,["model"])}}};export{ue as default};
