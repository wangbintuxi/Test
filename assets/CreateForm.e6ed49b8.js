import{bg as c,l as j,r as q,k as A,o as L,q as O,m as t,i as l,f as n,e as S,x as h,be as b,I as Y,E as z,D,bf as E,d7 as M,b3 as P}from"./index.bde4a40f.js";/* empty css              */import{_ as G}from"./index.e162e362.js";import"./index.5d20d864.js";import{_ as H,F as J}from"./Form.9957df10.js";function re(a){return c({url:"/system/config/list",method:"get",params:a})}function Q(a){return c({url:"/system/config/"+a,method:"get"})}function W(a){return c({url:"/system/config",method:"post",data:a})}function X(a){return c({url:"/system/config",method:"put",data:a})}function ie(a){return c({url:"/system/config/"+a,method:"delete"})}const Z={class:"bottom-control"},ee=h("\u53D6\u6D88"),ne=h("\u4FDD\u5B58"),oe={__name:"CreateForm",props:{sys_yes_no:{type:Array,required:!0}},emits:["ok"],setup(a,{expose:k,emit:g}){const C=j(null),{proxy:F}=P(),T=q({formTitle:"",submitLoading:!1,form:{configId:null,configName:null,configKey:null,configValue:null,configType:"Y",remark:null},formType:1,open:!1,rules:{}}),{formTitle:d,submitLoading:m,form:e,formType:p,open:i,rules:I}=A(T),v=()=>{_(),i.value=!1},_=()=>{p.value=1,e.value={configId:null,configName:null,configKey:null,configValue:null,configType:"Y",remark:null},F.resetForm("formRef")},x=u=>{_(),p.value=1,i.value=!0,d.value="\u6DFB\u52A0\u53C2\u6570\u914D\u7F6E"},N=(u,o)=>{_(),p.value=2;const f=u?u.configId:o.value;Q(f).then(r=>{e.value=r.data,i.value=!0,d.value="\u4FEE\u6539\u53C2\u6570\u914D\u7F6E"})},V=u=>{m.value=!0,e.value.configId!==void 0&&e.value.configId!==null?X(e.value).then(o=>{b.success("\u4FEE\u6539\u6210\u529F",3),i.value=!1,g("ok")}).finally(()=>{m.value=!1}):W(e.value).then(o=>{b.success("\u65B0\u589E\u6210\u529F",3),i.value=!1,g("ok")}).finally(()=>{m.value=!1})},w=u=>{console.error("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25",u)};return k({handleAdd:x,handleUpdate:N}),(u,o)=>{const f=Y,r=H,U=G,K=z,y=D,B=E,R=J,$=M;return L(),O($,{width:600,title:n(d),"label-col":4,"wrapper-col":14,visible:n(i),onClose:v},{default:t(()=>[l(R,{"label-col":{span:5},"wrapper-col":{span:18},ref_key:"formRef",ref:C,model:n(e),rules:n(I),onFinish:V,onFinishFailed:w},{default:t(()=>[l(r,{label:"\u53C2\u6570\u540D\u79F0",name:"configName"},{default:t(()=>[l(f,{value:n(e).configName,"onUpdate:value":o[0]||(o[0]=s=>n(e).configName=s),placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0"},null,8,["value"])]),_:1}),l(r,{label:"\u53C2\u6570\u952E\u540D",name:"configKey"},{default:t(()=>[l(f,{value:n(e).configKey,"onUpdate:value":o[1]||(o[1]=s=>n(e).configKey=s),placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u952E\u540D"},null,8,["value"])]),_:1}),l(r,{label:"\u53C2\u6570\u952E\u503C",name:"configValue"},{default:t(()=>[l(f,{value:n(e).configValue,"onUpdate:value":o[2]||(o[2]=s=>n(e).configValue=s),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea","allow-clear":""},null,8,["value"])]),_:1}),l(r,{label:"\u7CFB\u7EDF\u5185\u7F6E",name:"configType"},{default:t(()=>[l(U,{value:n(e).configType,"onUpdate:value":o[3]||(o[3]=s=>n(e).configType=s),options:a.sys_yes_no},null,8,["value","options"])]),_:1}),l(r,{label:"\u5907\u6CE8",name:"remark"},{default:t(()=>[l(K,{value:n(e).remark,"onUpdate:value":o[4]||(o[4]=s=>n(e).remark=s),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9","allow-clear":""},null,8,["value"])]),_:1}),S("div",Z,[l(B,null,{default:t(()=>[l(y,{type:"dashed",danger:"",onClick:v},{default:t(()=>[ee]),_:1}),l(y,{type:"primary",loading:n(m),"html-type":"submitForm"},{default:t(()=>[ne]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["title","visible"])}}};var fe=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{fe as C,oe as _,ie as d,re as l};
