import{W as mr,X as Be,Y as hr,Z as Ge,$ as gr,a0 as He,a1 as Ke,a2 as Ie,a3 as pr,a4 as br,a5 as ze,a6 as Fr,a7 as yr,a8 as wr,a9 as Cr,aa as Ee,ab as xr,ac as $r,ad as _e,ae as Or,af as Pr,ag as Ar,ah as Ir,ai as Ue,aj as Er,ak as Mr,al as kr,d as C,am as Me,an as Sr,ao as Q,H as I,ap as Ye,aq as he,ar as ne,R as Vr,as as _r,O as K,at as Lr,au as Xe,av as qr,aw as Rr,N as ve,i as H,F as me,ax as Nr,ay as Qe,G as ge,K as ke,l as J,az as ie,aA as jr,aB as Tr,aC as Wr,aD as Dr,aE as Br,aF as Gr,aG as Hr,aH as Ze,aI as Je,aJ as Kr,aK as zr,aL as Ur,aM as Yr,aN as Xr,aO as ue,aP as ee,aQ as Ce,aR as er,f as te,r as Qr,aS as fe,aT as Zr,aU as rr,aV as Jr,aW as en,aX as be}from"./index.b2a8007e.js";import{i as rn}from"./isPlainObject.87445d09.js";var Le=1/0,nn=17976931348623157e292;function an(r){if(!r)return r===0?r:0;if(r=mr(r),r===Le||r===-Le){var e=r<0?-1:1;return e*nn}return r===r?r:0}function tn(r){var e=an(r),n=e%1;return e===e?n?e-n:e:0}function ln(r,e,n){var a=-1,t=r.length;e<0&&(e=-e>t?0:t+e),n=n>t?t:n,n<0&&(n+=t),t=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(t);++a<t;)i[a]=r[a+e];return i}var un=1,on=4;function de(r){return Be(r,un|on)}var sn=1,fn=2;function cn(r,e,n,a){var t=n.length,i=t,u=!a;if(r==null)return!i;for(r=Object(r);t--;){var o=n[t];if(u&&o[2]?o[1]!==r[o[0]]:!(o[0]in r))return!1}for(;++t<i;){o=n[t];var m=o[0],p=r[m],f=o[1];if(u&&o[2]){if(p===void 0&&!(m in r))return!1}else{var v=new hr;if(a)var $=a(p,f,m,r,e,v);if(!($===void 0?Ge(f,p,sn|fn,a,v):$))return!1}}return!0}function nr(r){return r===r&&!gr(r)}function dn(r){for(var e=He(r),n=e.length;n--;){var a=e[n],t=r[a];e[n]=[a,t,nr(t)]}return e}function ar(r,e){return function(n){return n==null?!1:n[r]===e&&(e!==void 0||r in Object(n))}}function vn(r){var e=dn(r);return e.length==1&&e[0][2]?ar(e[0][0],e[0][1]):function(n){return n===r||cn(n,r,e)}}var mn=1,hn=2;function gn(r,e){return Ke(r)&&nr(e)?ar(Ie(r),e):function(n){var a=pr(n,r);return a===void 0&&a===e?br(n,r):Ge(e,a,mn|hn)}}function pn(r){return function(e){return e==null?void 0:e[r]}}function bn(r){return function(e){return ze(e,r)}}function Fn(r){return Ke(r)?pn(Ie(r)):bn(r)}function tr(r){return typeof r=="function"?r:r==null?Fr:typeof r=="object"?yr(r)?gn(r[0],r[1]):vn(r):Fn(r)}function yn(r){var e=r==null?0:r.length;return e?r[e-1]:void 0}function wn(r){return function(e,n,a){var t=Object(e);if(!wr(e)){var i=tr(n);e=He(e),n=function(o){return i(t[o],o,t)}}var u=r(e,n,a);return u>-1?t[i?e[u]:u]:void 0}}var Cn=Math.max;function xn(r,e,n){var a=r==null?0:r.length;if(!a)return-1;var t=n==null?0:tn(n);return t<0&&(t=Cn(a+t,0)),Cr(r,tr(e),t)}var $n=wn(xn),On=$n,Pn=Math.min;function An(r,e,n){for(var a=n?Or:Pr,t=r[0].length,i=r.length,u=i,o=Array(i),m=1/0,p=[];u--;){var f=r[u];u&&e&&(f=Ee(f,xr(e))),m=Pn(f.length,m),o[u]=!n&&(e||t>=120&&f.length>=120)?new $r(u&&f):void 0}f=r[0];var v=-1,$=o[0];e:for(;++v<t&&p.length<m;){var w=f[v],O=e?e(w):w;if(w=n||w!==0?w:0,!($?_e($,O):a(p,O,n))){for(u=i;--u;){var h=o[u];if(!(h?_e(h,O):a(r[u],O,n)))continue e}$&&$.push(O),p.push(w)}}return p}function In(r){return Ar(r)?r:[]}var En=Ir(function(r){var e=Ee(r,In);return e.length&&e[0]===r[0]?An(e):[]}),Mn=En;function kn(r,e){return e.length<2?r:ze(r,ln(e,0,-1))}function Sn(r,e){return e=Ue(e,r),r=kn(r,e),r==null||delete r[Ie(yn(e))]}function Vn(r){return rn(r)?void 0:r}var _n=1,Ln=2,qn=4,Rn=Er(function(r,e){var n={};if(r==null)return n;var a=!1;e=Ee(e,function(i){return i=Ue(i,r),a||(a=i.length>1),i}),Mr(r,kr(r),n),a&&(n=Be(n,_n|Ln|qn,Vn));for(var t=e.length;t--;)Sn(n,e[t]);return n}),Nn=Rn,jn=Symbol("SizeProvider"),Tn=function(e){var n=e?C(function(){return e.size}):Me(jn,C(function(){return"default"}));return n};function re(r){return r==null?[]:Array.isArray(r)?r:[r]}function ir(r,e){for(var n=r,a=0;a<e.length;a+=1){if(n==null)return;n=n[e[a]]}return n}function lr(r,e,n,a){if(!e.length)return n;var t=Sr(e),i=t[0],u=t.slice(1),o;return!r&&typeof i=="number"?o=[]:Array.isArray(r)?o=Q(r):o=I({},r),a&&n===void 0&&u.length===1?delete o[i][u[0]]:o[i]=lr(o[i],u,n,a),o}function Wn(r,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&a&&n===void 0&&!ir(r,e.slice(0,-1))?r:lr(r,e,n,a)}function xe(r){return re(r)}function Dn(r,e){var n=ir(r,e);return n}function Bn(r,e,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=Wn(r,e,n,a);return t}function Gn(r,e){return r&&r.some(function(n){return Kn(n,e)})}function qe(r){return Ye(r)==="object"&&r!==null&&Object.getPrototypeOf(r)===Object.prototype}function ur(r,e){var n=Array.isArray(r)?Q(r):I({},r);return e&&Object.keys(e).forEach(function(a){var t=n[a],i=e[a],u=qe(t)&&qe(i);n[a]=u?ur(t,i||{}):i}),n}function Hn(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return n.reduce(function(t,i){return ur(t,i)},r)}function Re(r,e){var n={};return e.forEach(function(a){var t=Dn(r,a);n=Bn(n,a,t)}),n}function Kn(r,e){return!r||!e||r.length!==e.length?!1:r.every(function(n,a){return e[a]===n})}var Y="'${name}' is not a valid ${type}",pe={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Y,method:Y,array:Y,object:Y,number:Y,date:Y,boolean:Y,integer:Y,float:Y,regexp:Y,email:Y,url:Y,hex:Y},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},zn=Lr;function Un(r,e){return r.replace(/\$\{\w+\}/g,function(n){var a=n.slice(2,-1);return e[a]})}function $e(r,e,n,a,t){return Oe.apply(this,arguments)}function Oe(){return Oe=he(ne.mark(function r(e,n,a,t,i){var u,o,m,p,f,v,$,w;return ne.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=I({},a),delete u.ruleIndex,delete u.trigger,o=null,u&&u.type==="array"&&u.defaultField&&(o=u.defaultField,delete u.defaultField),m=new zn(K({},e,[u])),p=Hn({},pe,t.validateMessages),m.messages(p),f=[],h.prev=9,h.next=12,Promise.resolve(m.validate(K({},e,n),I({},t)));case 12:h.next=17;break;case 14:h.prev=14,h.t0=h.catch(9),h.t0.errors?f=h.t0.errors.map(function(P,E){var M=P.message;return Vr(M)?_r(M,{key:"error_".concat(E)}):M}):(console.error(h.t0),f=[p.default()]);case 17:if(!(!f.length&&o)){h.next=22;break}return h.next=20,Promise.all(n.map(function(P,E){return $e("".concat(e,".").concat(E),P,o,t,i)}));case 20:return v=h.sent,h.abrupt("return",v.reduce(function(P,E){return[].concat(Q(P),Q(E))},[]));case 22:return $=I(I({},a),{},{name:e,enum:(a.enum||[]).join(", ")},i),w=f.map(function(P){return typeof P=="string"?Un(P,$):P}),h.abrupt("return",w);case 25:case"end":return h.stop()}},r,null,[[9,14]])})),Oe.apply(this,arguments)}function or(r,e,n,a,t,i){var u=r.join("."),o=n.map(function(f,v){var $=f.validator,w=I(I({},f),{},{ruleIndex:v});return $&&(w.validator=function(O,h,P){var E=!1,M=function(){for(var d=arguments.length,b=new Array(d),A=0;A<d;A++)b[A]=arguments[A];Promise.resolve().then(function(){E||P.apply(void 0,b)})},k=$(O,h,M);E=k&&typeof k.then=="function"&&typeof k.catch=="function",E&&k.then(function(){P()}).catch(function(s){P(s||" ")})}),w}).sort(function(f,v){var $=f.warningOnly,w=f.ruleIndex,O=v.warningOnly,h=v.ruleIndex;return!!$==!!O?w-h:$?1:-1}),m;if(t===!0)m=new Promise(function(){var f=he(ne.mark(function v($,w){var O,h,P;return ne.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:O=0;case 1:if(!(O<o.length)){M.next=12;break}return h=o[O],M.next=5,$e(u,e,h,a,i);case 5:if(P=M.sent,!P.length){M.next=9;break}return w([{errors:P,rule:h}]),M.abrupt("return");case 9:O+=1,M.next=1;break;case 12:$([]);case 13:case"end":return M.stop()}},v)}));return function(v,$){return f.apply(this,arguments)}}());else{var p=o.map(function(f){return $e(u,e,f,a,i).then(function(v){return{errors:v,rule:f}})});m=(t?Xn(p):Yn(p)).then(function(f){return Promise.reject(f)})}return m.catch(function(f){return f}),m}function Yn(r){return Pe.apply(this,arguments)}function Pe(){return Pe=he(ne.mark(function r(e){return ne.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(e).then(function(t){var i,u=(i=[]).concat.apply(i,Q(t));return u}));case 1:case"end":return a.stop()}},r)})),Pe.apply(this,arguments)}function Xn(r){return Ae.apply(this,arguments)}function Ae(){return Ae=he(ne.mark(function r(e){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.abrupt("return",new Promise(function(i){e.forEach(function(u){u.then(function(o){o.errors.length&&i([o]),n+=1,n===e.length&&i([])})})}));case 2:case"end":return t.stop()}},r)})),Ae.apply(this,arguments)}var sr=Symbol("formContextKey"),fr=function(e){Xe(sr,e)},Se=function(){return Me(sr,{name:C(function(){}),labelAlign:C(function(){return"right"}),vertical:C(function(){return!1}),addField:function(n,a){},removeField:function(n){},model:C(function(){}),rules:C(function(){}),colon:C(function(){}),labelWrap:C(function(){}),labelCol:C(function(){}),requiredMark:C(function(){return!1}),validateTrigger:C(function(){}),onValidate:function(){},validateMessages:C(function(){return pe})})},cr=Symbol("formItemPrefixContextKey"),Qn=function(e){Xe(cr,e)},Zn=function(){return Me(cr,{prefixCls:C(function(){return""})})},Ve=function(e,n){var a,t,i,u,o=n.slots,m=n.emit,p=n.attrs,f=I(I({},e),p),v=f.prefixCls,$=f.htmlFor,w=f.labelCol,O=f.labelAlign,h=f.colon,P=f.required,E=f.requiredMark,M=qr("Form"),k=Rr(M,1),s=k[0],d=(a=e.label)!==null&&a!==void 0?a:(t=o.label)===null||t===void 0?void 0:t.call(o);if(!d)return null;var b=Se(),A=b.vertical,S=b.labelAlign,F=b.labelCol,q=b.labelWrap,W=b.colon,R=w||(F==null?void 0:F.value)||{},V=O||(S==null?void 0:S.value),N="".concat(v,"-item-label"),z=ve(N,V==="left"&&"".concat(N,"-left"),R.class,K({},"".concat(N,"-wrap"),!!q.value)),_=d,g=h===!0||(W==null?void 0:W.value)!==!1&&h!==!1,y=g&&!A.value;if(y&&typeof d=="string"&&d.trim()!==""&&(_=d.replace(/[:|ï¼š]\s*$/,"")),_=H(me,null,[_,(i=o.tooltip)===null||i===void 0?void 0:i.call(o,{class:"".concat(v,"-item-tooltip")})]),E==="optional"&&!P){var l,c;_=H(me,null,[_,H("span",{class:"".concat(v,"-item-optional")},[((l=s.value)===null||l===void 0?void 0:l.optional)||((c=Nr.Form)===null||c===void 0?void 0:c.optional)])])}var x=ve((u={},K(u,"".concat(v,"-item-required"),P),K(u,"".concat(v,"-item-required-mark-optional"),E==="optional"),K(u,"".concat(v,"-item-no-colon"),!g),u));return H(Qe,I(I({},R),{},{class:z}),{default:function(){return[H("label",{for:$,class:x,title:typeof d=="string"?d:"",onClick:function(D){return m("click",D)}},[_])]}})};Ve.displayName="FormItemLabel";Ve.inheritAttrs=!1;var Jn=Ve,ea=ge({compatConfig:{MODE:3},name:"ErrorList",props:["errors","help","onDomErrorVisibleChange","helpStatus","warnings"],setup:function(e){var n=ke("",e),a=n.prefixCls,t=Zn(),i=t.prefixCls,u=t.status,o=C(function(){return"".concat(i.value,"-item-explain")}),m=C(function(){return!!(e.errors&&e.errors.length)}),p=J(u.value);return ie([m,u],function(){m.value&&(p.value=u.value)}),function(){var f,v,$=jr("".concat(a.value,"-show-help-item")),w=Tr("".concat(a.value,"-show-help-item"),$);return w.class=o.value,(f=e.errors)!==null&&f!==void 0&&f.length?H(Wr,I(I({},w),{},{tag:"div"}),{default:function(){return[(v=e.errors)===null||v===void 0?void 0:v.map(function(h,P){return H("div",{key:P,role:"alert",class:p.value?"".concat(o.value,"-").concat(p.value):""},[h])})]}}):null}}}),ra={success:Dr,warning:Br,error:Gr,validating:Hr},na=ge({compatConfig:{MODE:3},slots:["help","extra","errors"],inheritAttrs:!1,props:["prefixCls","errors","hasFeedback","onDomErrorVisibleChange","wrapperCol","help","extra","status"],setup:function(e,n){var a=n.slots,t=Se(),i=t.wrapperCol,u=I({},t);return delete u.labelCol,delete u.wrapperCol,fr(u),Qn({prefixCls:C(function(){return e.prefixCls}),status:C(function(){return e.status})}),function(){var o,m,p,f=e.prefixCls,v=e.wrapperCol,$=e.help,w=$===void 0?(o=a.help)===null||o===void 0?void 0:o.call(a):$,O=e.errors,h=O===void 0?(m=a.errors)===null||m===void 0?void 0:m.call(a):O,P=e.hasFeedback,E=e.status,M=e.extra,k=M===void 0?(p=a.extra)===null||p===void 0?void 0:p.call(a):M,s="".concat(f,"-item"),d=v||(i==null?void 0:i.value)||{},b=ve("".concat(s,"-control"),d.class),A=E&&ra[E];return H(Qe,I(I({},d),{},{class:b}),{default:function(){var F;return H(me,null,[H("div",{class:"".concat(s,"-control-input")},[H("div",{class:"".concat(s,"-control-input-content")},[(F=a.default)===null||F===void 0?void 0:F.call(a)]),P&&A?H("span",{class:"".concat(s,"-children-icon")},[H(A,null,null)]):null]),H(ea,{errors:h,help:w,class:"".concat(s,"-explain-connected")},null),k?H("div",{class:"".concat(s,"-extra")},[k]):null])}})}}}),aa=na;function ta(r){var e=Ze(r.value.slice()),n=null;return Je(function(){clearTimeout(n),n=setTimeout(function(){e.value=r.value},r.value.length?0:10)}),e}ue("success","warning","error","validating","");function Fe(r,e,n){var a=r,t=e,i=0;try{for(var u=t.length;i<u-1&&!(!a&&!n);++i){var o=t[i];if(o in a)a=a[o];else{if(n)throw Error("please transfer a valid name path to form item!");break}}if(n&&!a)throw Error("please transfer a valid name path to form item!")}catch{console.error("please transfer a valid name path to form item!")}return{o:a,k:t[i],v:a?a[t[i]]:void 0}}var ia=function(){return{htmlFor:String,prefixCls:String,label:ee.any,help:ee.any,extra:ee.any,labelCol:{type:Object},wrapperCol:{type:Object},hasFeedback:{type:Boolean,default:!1},colon:{type:Boolean,default:void 0},labelAlign:ee.oneOf(ue("left","right")),prop:{type:[String,Number,Array]},name:{type:[String,Number,Array]},rules:[Array,Object],autoLink:{type:Boolean,default:!0},required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},validateStatus:ee.oneOf(ue("","success","warning","error","validating")),validateTrigger:{type:[String,Array]},messageVariables:{type:Object},hidden:Boolean,noStyle:Boolean}},la=0,ua="form_item",oa=ge({compatConfig:{MODE:3},name:"AFormItem",inheritAttrs:!1,__ANT_NEW_FORM_ITEM:!0,props:ia(),slots:["help","label","extra"],setup:function(e,n){var a=n.slots,t=n.attrs,i=n.expose;Kr(e.prop===void 0);var u="form-item-".concat(++la),o=ke("form",e),m=o.prefixCls,p=Se(),f=C(function(){return e.name||e.prop}),v=J([]),$=J(!1),w=J(),O=C(function(){var l=f.value;return xe(l)}),h=C(function(){if(O.value.length){var l=p.name.value,c=O.value.join("_");return l?"".concat(l,"_").concat(c):"".concat(ua,"_").concat(c)}else return}),P=function(){var c=p.model.value;if(!(!c||!f.value))return Fe(c,O.value,!0).v},E=C(function(){return P()}),M=J(de(E.value)),k=C(function(){var l=e.validateTrigger!==void 0?e.validateTrigger:p.validateTrigger.value;return l=l===void 0?"change":l,re(l)}),s=C(function(){var l=p.rules.value,c=e.rules,x=e.required!==void 0?{required:!!e.required,trigger:k.value}:[],L=Fe(l,O.value);l=l?L.o[L.k]||L.v:[];var j=[].concat(c||l||[]);return On(j,function(D){return D.required})?j:j.concat(x)}),d=C(function(){var l=s.value,c=!1;return l&&l.length&&l.every(function(x){return x.required?(c=!0,!1):!0}),c||e.required}),b=J();Je(function(){b.value=e.validateStatus});var A=C(function(){var l={};return typeof e.label=="string"?l.label=e.label:e.name&&(l.label=String(name)),e.messageVariables&&(l=I(I({},l),e.messageVariables)),l}),S=function(c){if(O.value.length!==0){var x=e.validateFirst,L=x===void 0?!1:x,j=c||{},D=j.triggerName,T=s.value;if(D&&(T=T.filter(function(B){var X=B.trigger;if(!X&&!k.value.length)return!0;var U=re(X||k.value);return U.includes(D)})),!T.length)return Promise.resolve();var G=or(O.value,E.value,T,I({validateMessages:p.validateMessages.value},c),L,A.value);return b.value="validating",v.value=[],G.catch(function(B){return B}).then(function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(b.value==="validating"){var X=B.filter(function(U){return U&&U.errors.length});b.value=X.length?"error":"success",v.value=X.map(function(U){return U.errors}),p.onValidate(f.value,!v.value.length,v.value.length?Ce(v.value[0]):null)}}),G}},F=function(){S({triggerName:"blur"})},q=function(){if($.value){$.value=!1;return}S({triggerName:"change"})},W=function(){b.value=e.validateStatus,$.value=!1,v.value=[]},R=function(){b.value=e.validateStatus,$.value=!0,v.value=[];var c=p.model.value||{},x=E.value,L=Fe(c,O.value,!0);Array.isArray(x)?L.o[L.k]=[].concat(M.value):L.o[L.k]=M.value,er(function(){$.value=!1})},V=C(function(){return e.htmlFor===void 0?h.value:e.htmlFor}),N=function(){var c=V.value;if(!(!c||!w.value)){var x=w.value.$el.querySelector('[id="'.concat(c,'"]'));x&&x.focus&&x.focus()}};i({onFieldBlur:F,onFieldChange:q,clearValidate:W,resetField:R}),zr({id:h,onFieldBlur:function(){e.autoLink&&F()},onFieldChange:function(){e.autoLink&&q()},clearValidate:W},C(function(){return!!(e.autoLink&&p.model.value&&f.value)}));var z=!1;ie(f,function(l){l?z||(z=!0,p.addField(u,{fieldValue:E,fieldId:h,fieldName:f,resetField:R,clearValidate:W,namePath:O,validateRules:S,rules:s})):(z=!1,p.removeField(u))},{immediate:!0}),Ur(function(){p.removeField(u)});var _=ta(v),g=C(function(){return e.validateStatus!==void 0?e.validateStatus:_.value.length?"error":b.value}),y=C(function(){var l;return l={},K(l,"".concat(m.value,"-item"),!0),K(l,"".concat(m.value,"-item-has-feedback"),g.value&&e.hasFeedback),K(l,"".concat(m.value,"-item-has-success"),g.value==="success"),K(l,"".concat(m.value,"-item-has-warning"),g.value==="warning"),K(l,"".concat(m.value,"-item-has-error"),g.value==="error"),K(l,"".concat(m.value,"-item-is-validating"),g.value==="validating"),K(l,"".concat(m.value,"-item-hidden"),e.hidden),l});return function(){var l,c;if(e.noStyle)return(l=a.default)===null||l===void 0?void 0:l.call(a);var x=(c=e.help)!==null&&c!==void 0?c:a.help?Yr(a.help()):null;return H(Xr,I(I({},t),{},{class:[y.value,x!=null||_.value.length?"".concat(m.value,"-item-with-help"):"",t.class],key:"row"}),{default:function(){var j,D,T,G;return H(me,null,[H(Jn,I(I({},e),{},{htmlFor:V.value,required:d.value,requiredMark:p.requiredMark.value,prefixCls:m.value,onClick:N,label:(j=e.label)!==null&&j!==void 0?j:(D=a.label)===null||D===void 0?void 0:D.call(a)}),null),H(aa,I(I({},e),{},{errors:x!=null?re(x):_.value,prefixCls:m.value,status:g.value,ref:w,help:x,extra:(T=e.extra)!==null&&T!==void 0?T:(G=a.extra)===null||G===void 0?void 0:G.call(a)}),{default:a.default})])}})}}});function dr(r){var e=!1,n=r.length,a=[];return r.length?new Promise(function(t,i){r.forEach(function(u,o){u.catch(function(m){return e=!0,m}).then(function(m){n-=1,a[o]=m,!(n>0)&&(e&&i(a),t(a))})})}):Promise.resolve([])}function Ne(r){return typeof r=="object"&&r!=null&&r.nodeType===1}function je(r,e){return(!e||r!=="hidden")&&r!=="visible"&&r!=="clip"}function ye(r,e){if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){var n=getComputedStyle(r,null);return je(n.overflowY,e)||je(n.overflowX,e)||function(a){var t=function(i){if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}}(a);return!!t&&(t.clientHeight<a.scrollHeight||t.clientWidth<a.scrollWidth)}(r)}return!1}function ce(r,e,n,a,t,i,u,o){return i<r&&u>e||i>r&&u<e?0:i<=r&&o<=n||u>=e&&o>=n?i-r-a:u>e&&o<n||i<r&&o>n?u-e+t:0}var Te=function(r,e){var n=window,a=e.scrollMode,t=e.block,i=e.inline,u=e.boundary,o=e.skipOverflowHiddenElements,m=typeof u=="function"?u:function(se){return se!==u};if(!Ne(r))throw new TypeError("Invalid target");for(var p,f,v=document.scrollingElement||document.documentElement,$=[],w=r;Ne(w)&&m(w);){if((w=(f=(p=w).parentElement)==null?p.getRootNode().host||null:f)===v){$.push(w);break}w!=null&&w===document.body&&ye(w)&&!ye(document.documentElement)||w!=null&&ye(w,o)&&$.push(w)}for(var O=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,P=window.scrollX||pageXOffset,E=window.scrollY||pageYOffset,M=r.getBoundingClientRect(),k=M.height,s=M.width,d=M.top,b=M.right,A=M.bottom,S=M.left,F=t==="start"||t==="nearest"?d:t==="end"?A:d+k/2,q=i==="center"?S+s/2:i==="end"?b:S,W=[],R=0;R<$.length;R++){var V=$[R],N=V.getBoundingClientRect(),z=N.height,_=N.width,g=N.top,y=N.right,l=N.bottom,c=N.left;if(a==="if-needed"&&d>=0&&S>=0&&A<=h&&b<=O&&d>=g&&A<=l&&S>=c&&b<=y)return W;var x=getComputedStyle(V),L=parseInt(x.borderLeftWidth,10),j=parseInt(x.borderTopWidth,10),D=parseInt(x.borderRightWidth,10),T=parseInt(x.borderBottomWidth,10),G=0,B=0,X="offsetWidth"in V?V.offsetWidth-V.clientWidth-L-D:0,U="offsetHeight"in V?V.offsetHeight-V.clientHeight-j-T:0,Z="offsetWidth"in V?V.offsetWidth===0?0:_/V.offsetWidth:0,ae="offsetHeight"in V?V.offsetHeight===0?0:z/V.offsetHeight:0;if(v===V)G=t==="start"?F:t==="end"?F-h:t==="nearest"?ce(E,E+h,h,j,T,E+F,E+F+k,k):F-h/2,B=i==="start"?q:i==="center"?q-O/2:i==="end"?q-O:ce(P,P+O,O,L,D,P+q,P+q+s,s),G=Math.max(0,G+E),B=Math.max(0,B+P);else{G=t==="start"?F-g-j:t==="end"?F-l+T+U:t==="nearest"?ce(g,l,z,j,T+U,F,F+k,k):F-(g+z/2)+U/2,B=i==="start"?q-c-L:i==="center"?q-(c+_/2)+X/2:i==="end"?q-y+D+X:ce(c,y,_,L,D+X,q,q+s,s);var le=V.scrollLeft,oe=V.scrollTop;F+=oe-(G=Math.max(0,Math.min(oe+G/ae,V.scrollHeight-z/ae+U))),q+=le-(B=Math.max(0,Math.min(le+B/Z,V.scrollWidth-_/Z+X)))}W.push({el:V,top:G,left:B})}return W};function vr(r){return r===Object(r)&&Object.keys(r).length!==0}function sa(r,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;r.forEach(function(a){var t=a.el,i=a.top,u=a.left;t.scroll&&n?t.scroll({top:i,left:u,behavior:e}):(t.scrollTop=i,t.scrollLeft=u)})}function fa(r){return r===!1?{block:"end",inline:"nearest"}:vr(r)?r:{block:"start",inline:"nearest"}}function ca(r,e){var n=r.isConnected||r.ownerDocument.documentElement.contains(r);if(vr(e)&&typeof e.behavior=="function")return e.behavior(n?Te(r,e):[]);if(!!n){var a=fa(e);return sa(Te(r,a),a.behavior)}}function We(r){var e=!1;return r&&r.length&&r.every(function(n){return n.required?(e=!0,!1):!0}),e}function De(r){return r==null?[]:Array.isArray(r)?r:[r]}function we(r,e,n){var a=r;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var t=e.split("."),i=0,u=t.length;i<u-1&&!(!a&&!n);++i){var o=t[i];if(o in a)a=a[o];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:a,k:t[i],v:a?a[t[i]]:null,isValid:a&&t[i]in a}}function da(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J({}),n=arguments.length>2?arguments[2]:void 0,a=de(te(r)),t=Qr({}),i=Ze([]),u=function(s){fe(te(r),I(I({},de(a)),s)),er(function(){Object.keys(t).forEach(function(d){t[d]={autoLink:!1,required:We(te(e)[d])}})})},o=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;return d.length?s.filter(function(b){var A=De(b.trigger||"change");return Mn(A,d).length}):s},m=null,p=function(s){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2?arguments[2]:void 0,A=[],S={},F=function(z){var _=s[z],g=we(te(r),_,b);if(!g.isValid)return"continue";S[_]=g.v;var y=o(te(e)[_],De(d&&d.trigger));y.length&&A.push(f(_,g.v,y,d||{}).then(function(){return{name:_,errors:[],warnings:[]}}).catch(function(l){var c=[],x=[];return l.forEach(function(L){var j=L.rule.warningOnly,D=L.errors;j?x.push.apply(x,Q(D)):c.push.apply(c,Q(D))}),c.length?Promise.reject({name:_,errors:c,warnings:x}):{name:_,errors:c,warnings:x}}))},q=0;q<s.length;q++)var W=F(q);var R=dr(A);m=R;var V=R.then(function(){return m===R?Promise.resolve(S):Promise.reject([])}).catch(function(N){var z=N.filter(function(_){return _&&_.errors.length});return Promise.reject({values:S,errorFields:z,outOfDate:m!==R})});return V.catch(function(N){return N}),V},f=function(s,d,b){var A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=or([s],d,b,I({validateMessages:pe},A),!!A.validateFirst);return t[s]?(t[s].validateStatus="validating",S.catch(function(F){return F}).then(function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t[s].validateStatus==="validating"){var q,W=F.filter(function(R){return R&&R.errors.length});t[s].validateStatus=W.length?"error":"success",t[s].help=W.length?W.map(function(R){return R.errors}):null,n==null||(q=n.onValidate)===null||q===void 0||q.call(n,s,!W.length,W.length?Ce(t[s].help[0]):null)}}),S):S.catch(function(F){return F})},v=function(s,d){var b=[],A=!0;s?Array.isArray(s)?b=s:b=[s]:(A=!1,b=i.value);var S=p(b,d||{},A);return S.catch(function(F){return F}),S},$=function(s){var d=[];s?Array.isArray(s)?d=s:d=[s]:d=i.value,d.forEach(function(b){t[b]&&fe(t[b],{validateStatus:"",help:null})})},w=function(s){for(var d={autoLink:!1},b=[],A=Array.isArray(s)?s:[s],S=0;S<A.length;S++){var F=A[S];(F==null?void 0:F.validateStatus)==="error"&&(d.validateStatus="error",F.help&&b.push(F.help)),d.required=d.required||(F==null?void 0:F.required)}return d.help=b,d},O=a,h=!0,P=function(s){var d=[];i.value.forEach(function(b){var A=we(s,b,!1),S=we(O,b,!1),F=h&&(n==null?void 0:n.immediate)&&A.isValid;(F||!rr(A.v,S.v))&&d.push(b)}),v(d,{trigger:"change"}),h=!1,O=de(Ce(s))},E=n==null?void 0:n.debounce,M=!0;return ie(e,function(){i.value=e?Object.keys(te(e)):[],!M&&n&&n.validateOnRuleChange&&v(),M=!1},{deep:!0,immediate:!0}),ie(i,function(){var k={};i.value.forEach(function(d){k[d]=fe({},t[d],{autoLink:!1,required:We(te(e)[d])}),delete t[d]});for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&delete t[s];fe(t,k)},{immediate:!0}),ie(r,E&&E.wait?Zr(P,E.wait,Nn(E,["wait"])):P,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:r,rulesRef:e,initialModel:a,validateInfos:t,resetFields:u,validate:v,validateField:f,mergeValidateInfo:w,clearValidate:$}}var va=function(){return{layout:ee.oneOf(ue("horizontal","inline","vertical")),labelCol:{type:Object},wrapperCol:{type:Object},colon:{type:Boolean,default:void 0},labelAlign:ee.oneOf(ue("left","right")),labelWrap:{type:Boolean,default:void 0},prefixCls:String,requiredMark:{type:[String,Boolean],default:void 0},hideRequiredMark:{type:Boolean,default:void 0},model:ee.object,rules:{type:Object},validateMessages:{type:Object,default:void 0},validateOnRuleChange:{type:Boolean,default:void 0},scrollToFirstError:{type:[Boolean,Object]},onSubmit:Function,name:String,validateTrigger:{type:[String,Array]},size:{type:String},onValuesChange:{type:Function},onFieldsChange:{type:Function},onFinish:{type:Function},onFinishFailed:{type:Function},onValidate:{type:Function}}};function ma(r,e){return rr(re(r),re(e))}var ha=ge({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:Jr(va(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:oa,useForm:da,setup:function(e,n){var a=n.emit,t=n.slots,i=n.expose,u=n.attrs,o=Tn(e),m=ke("form",e),p=m.prefixCls,f=m.direction,v=m.form,$=C(function(){return e.requiredMark===""||e.requiredMark}),w=C(function(){var g;return $.value!==void 0?$.value:v&&((g=v.value)===null||g===void 0?void 0:g.requiredMark)!==void 0?v.value.requiredMark:!e.hideRequiredMark}),O=C(function(){var g,y;return(g=e.colon)!==null&&g!==void 0?g:(y=v.value)===null||y===void 0?void 0:y.colon}),h=en(),P=h.validateMessages,E=C(function(){return I(I(I({},pe),P.value),e.validateMessages)}),M=C(function(){var g;return ve(p.value,(g={},K(g,"".concat(p.value,"-").concat(e.layout),!0),K(g,"".concat(p.value,"-hide-required-mark"),w.value===!1),K(g,"".concat(p.value,"-rtl"),f.value==="rtl"),K(g,"".concat(p.value,"-").concat(o.value),o.value),g))}),k=J(),s={},d=function(y,l){s[y]=l},b=function(y){delete s[y]},A=function(y){var l=!!y,c=l?re(y).map(xe):[];return l?Object.values(s).filter(function(x){return c.findIndex(function(L){return ma(L,x.fieldName.value)})>-1}):Object.values(s)},S=function(y){if(!e.model){be(!1,"Form","model is required for resetFields to work.");return}A(y).forEach(function(l){l.resetField()})},F=function(y){A(y).forEach(function(l){l.clearValidate()})},q=function(y){var l=e.scrollToFirstError;if(a("finishFailed",y),l&&y.errorFields.length){var c={};Ye(l)==="object"&&(c=l),R(y.errorFields[0].name,c)}},W=function(){return z.apply(void 0,arguments)},R=function(y){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=A(y?[y]:void 0);if(c.length){var x=c[0].fieldId.value,L=x?document.getElementById(x):null;L&&ca(L,I({scrollMode:"if-needed",block:"nearest"},l))}},V=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(y===!0){var l=[];return Object.values(s).forEach(function(c){var x=c.namePath;l.push(x.value)}),Re(e.model,l)}else return Re(e.model,y)},N=function(y,l){if(be(!(y instanceof Function),"Form","validateFields/validateField/validate not support callback, please use promise instead"),!e.model)return be(!1,"Form","model is required for validateFields to work."),Promise.reject("Form `model` is required for validateFields to work.");var c=!!y,x=c?re(y).map(xe):[],L=[];Object.values(s).forEach(function(T){var G;if(c||x.push(T.namePath.value),!!((G=T.rules)!==null&&G!==void 0&&G.value.length)){var B=T.namePath.value;if(!c||Gn(x,B)){var X=T.validateRules(I({validateMessages:E.value},l));L.push(X.then(function(){return{name:B,errors:[],warnings:[]}}).catch(function(U){var Z=[],ae=[];return U.forEach(function(le){var oe=le.rule.warningOnly,se=le.errors;oe?ae.push.apply(ae,Q(se)):Z.push.apply(Z,Q(se))}),Z.length?Promise.reject({name:B,errors:Z,warnings:ae}):{name:B,errors:Z,warnings:ae}}))}}});var j=dr(L);k.value=j;var D=j.then(function(){return k.value===j?Promise.resolve(V(x)):Promise.reject([])}).catch(function(T){var G=T.filter(function(B){return B&&B.errors.length});return Promise.reject({values:V(x),errorFields:G,outOfDate:k.value!==j})});return D.catch(function(T){return T}),D},z=function(){return N.apply(void 0,arguments)},_=function(y){if(y.preventDefault(),y.stopPropagation(),a("submit",y),e.model){var l=N();l.then(function(c){a("finish",c)}).catch(function(c){q(c)})}};return i({resetFields:S,clearValidate:F,validateFields:N,getFieldsValue:V,validate:W,scrollToField:R}),fr({model:C(function(){return e.model}),name:C(function(){return e.name}),labelAlign:C(function(){return e.labelAlign}),labelCol:C(function(){return e.labelCol}),labelWrap:C(function(){return e.labelWrap}),wrapperCol:C(function(){return e.wrapperCol}),vertical:C(function(){return e.layout==="vertical"}),colon:O,requiredMark:w,validateTrigger:C(function(){return e.validateTrigger}),rules:C(function(){return e.rules}),addField:d,removeField:b,onValidate:function(y,l,c){a("validate",y,l,c)},validateMessages:E}),ie(function(){return e.rules},function(){e.validateOnRuleChange&&N()}),function(){var g;return H("form",I(I({},u),{},{onSubmit:_,class:[M.value,u.class]}),[(g=t.default)===null||g===void 0?void 0:g.call(t)])}}}),ba=ha;export{ba as F,oa as _,tr as b};
